import{r as T,a as Mi,c as ht,g as Er,R as Ri}from"./vendor-DJ1oPbzn.js";import{c as Be,p as zi,i as _i,a as Fi,f as $t}from"./utils-BHHfSGg0.js";import{m as J,M as Hi,B as ft,S as Qe,a as xt,H as bt,G as Bi,E as $i,b as Ui,c as Vi,A as De,X as sn,F as qi,U as Wi,C as ut,d as Ir,e as Yi,f as Ji,L as Gi,g as An,h as Ki,i as Xi,j as Qi,k as Zi,l as es,n as ts,o as ns,p as rs,q as is,P as ss,r as as,D as os,s as ls,T as Tn,t as us,u as cs,v as ds}from"./ui-DUlZU2YD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var jr={exports:{}},kt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=T,hs=Symbol.for("react.element"),fs=Symbol.for("react.fragment"),ms=Object.prototype.hasOwnProperty,gs=ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ys={key:!0,ref:!0,__self:!0,__source:!0};function Ar(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ms.call(t,r)&&!ys.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:hs,type:e,key:s,ref:a,props:i,_owner:gs.current}}kt.Fragment=fs;kt.jsx=Ar;kt.jsxs=Ar;jr.exports=kt;var d=jr.exports,Ut={},Pn=Mi;Ut.createRoot=Pn.createRoot,Ut.hydrateRoot=Pn.hydrateRoot;const xs={};function bs(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const a=l=>l===null?null:JSON.parse(l,void 0),o=(s=n.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Ze=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Ze(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ze(r)(n)}}}},ks=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,k)=>({...k,...w}),...t},a=!1;const o=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const c=Ze(s.serialize),p=()=>{const w=s.partialize({...r()});let k;const C=c({state:w,version:s.version}).then(N=>u.setItem(s.name,N)).catch(N=>{k=N});if(k)throw k;return C},f=i.setState;i.setState=(w,k)=>{f(w,k),p()};const h=e((...w)=>{n(...w),p()},r,i);let x;const y=()=>{var w;if(!u)return;a=!1,o.forEach(C=>C(r()));const k=((w=s.onRehydrateStorage)==null?void 0:w.call(s,r()))||void 0;return Ze(u.getItem.bind(u))(s.name).then(C=>{if(C)return s.deserialize(C)}).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return s.migrate(C.state,C.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return C.state}).then(C=>{var N;return x=s.merge(C,(N=r())!=null?N:h),n(x,!0),p()}).then(()=>{k==null||k(x,void 0),a=!0,l.forEach(C=>C(x))}).catch(C=>{k==null||k(void 0,C)})};return i.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:w=>(o.add(w),()=>{o.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},y(),x||h},ws=(e,t)=>(n,r,i)=>{let s={storage:bs(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...t},a=!1;const o=new Set,l=new Set;let u=s.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,i);const c=()=>{const y=s.partialize({...r()});return u.setItem(s.name,{state:y,version:s.version})},p=i.setState;i.setState=(y,w)=>{p(y,w),c()};const f=e((...y)=>{n(...y),c()},r,i);i.getInitialState=()=>f;let h;const x=()=>{var y,w;if(!u)return;a=!1,o.forEach(C=>{var N;return C((N=r())!=null?N:f)});const k=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(y=r())!=null?y:f))||void 0;return Ze(u.getItem.bind(u))(s.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return[!0,s.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var N;const[I,O]=C;if(h=s.merge(O,(N=r())!=null?N:f),n(h,!0),I)return c()}).then(()=>{k==null||k(h,void 0),h=r(),a=!0,l.forEach(C=>C(h))}).catch(C=>{k==null||k(void 0,C)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},s.skipHydration||x(),h||f},vs=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((xs?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ks(e,t)):ws(e,t),wt=vs,an="volunteerHubHistory",vt=e=>{try{return localStorage.setItem(an,JSON.stringify(e)),!0}catch(t){return console.error("Failed to save chat history:",t),!1}},ve=()=>{try{const e=localStorage.getItem(an);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load chat history:",e),[]}},Tr=()=>`chat_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Ss=(e,t)=>{const r=new Date(t).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"});return`${e.length>50?e.substring(0,50)+"...":e} - ${r}`},Ns=e=>{const t=new Date().toISOString();return{id:Tr(),title:Ss(e,t),messages:[],timestamp:t,lastActivity:t}},Cs=(e,t,n)=>{const r=ve(),i=r.findIndex(s=>s.id===e);return i===-1?(console.error("Session not found:",e),!1):(r[i].messages.push({sender:t,text:n,timestamp:new Date().toISOString()}),r[i].lastActivity=new Date().toISOString(),vt(r))},At=e=>{const t=ve(),n=t.findIndex(r=>r.id===e.id);return n>=0?t[n]={...e,lastActivity:new Date().toISOString()}:t.unshift({...e,lastActivity:new Date().toISOString()}),vt(t)},Es=e=>ve().find(n=>n.id===e)||null,Pr=e=>{const n=ve().filter(r=>r.id!==e);return vt(n)},Is=()=>{try{return localStorage.removeItem(an),!0}catch(e){return console.error("Failed to clear chat history:",e),!1}},Or=()=>ve().sort((t,n)=>new Date(n.lastActivity)-new Date(t.lastActivity)),js=e=>{const t=ve(),n=e.toLowerCase();return t.filter(r=>r.title.toLowerCase().includes(n)?!0:r.messages.some(i=>i.text.toLowerCase().includes(n))).sort((r,i)=>new Date(i.lastActivity)-new Date(r.lastActivity))},As=()=>ve().reduce((t,n)=>t+n.messages.length,0),Ts=()=>{const e=ve(),t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=`volunteer-hub-chat-history-${new Date().toISOString().split("T")[0]}.json`,r.click(),URL.revokeObjectURL(r.href)},Ps=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=i=>{try{const s=JSON.parse(i.target.result);if(!Array.isArray(s))throw new Error("Invalid file format");const a=ve(),l=[...s,...a].filter((u,c,p)=>c===p.findIndex(f=>f.id===u.id));vt(l),t(l.length)}catch(s){n(s)}},r.onerror=()=>n(new Error("Failed to read file")),r.readAsText(e)}),On=["campus","building","block","department","office","room","location","where","directions","navigate","find","route","way to","how to get","path to","main gate","main block","amenity","theatre","hostel","canteen","library","ai block","ml block","cse","parking","atm","medical","reception","reach","visit","go to","located","entrance","exit","near","beside","opposite","next to","ground floor","first floor","accessibility"],Dn=["volunteer","event","registration","participate","join","organize","community","service","help","contribute","donate","support","environment","education","health","technology","awareness","social","tree plantation","blood donation","coding","workshop","seminar","upcoming","today","tomorrow","this week","next week","schedule","when","date","time","register","sign up","apply"],Dr=e=>{const t=e.toLowerCase(),n=On.reduce((l,u)=>t.includes(u)?l+1:l,0),r=Dn.reduce((l,u)=>t.includes(u)?l+1:l,0),i=[/where\s+is\s+(?:the\s+)?([a-z\s]+)/i,/how\s+to\s+(?:get\s+to|reach|find)\s+([a-z\s]+)/i,/directions?\s+to\s+([a-z\s]+)/i,/location\s+of\s+([a-z\s]+)/i,/way\s+to\s+([a-z\s]+)/i],s=[/volunteer\s+(?:for|in|at)\s+([a-z\s]+)/i,/events?\s+(?:for|about|related to)\s+([a-z\s]+)/i,/register\s+(?:for|to)\s+([a-z\s]+)/i,/join\s+([a-z\s]+)\s+(?:event|activity|program)/i],a=i.some(l=>l.test(t)),o=s.some(l=>l.test(t));return a||n>r?{mode:"campus",confidence:n+(a?2:0),keywords:On.filter(l=>t.includes(l))}:o||r>0?{mode:"volunteer",confidence:r+(o?2:0),keywords:Dn.filter(l=>t.includes(l))}:{mode:"volunteer",confidence:0,keywords:[]}};class Os{constructor(){this.campusData=[],this.isLoaded=!1}async loadCampusData(){try{const t=await fetch("/campus-navigator-data.json");return this.campusData=await t.json(),this.isLoaded=!0,console.log("🏫 Campus Navigator data loaded successfully"),!0}catch(t){return console.error("Failed to load campus data:",t),this.campusData=[],this.isLoaded=!1,!1}}searchLocation(t){if(!this.isLoaded)return null;const n=t.toLowerCase(),r=this.campusData.filter(i=>{const s=i.node.toLowerCase(),a=i.category.toLowerCase(),o=i.describe.toLowerCase();return s.includes(n)||a.includes(n)||o.includes(n)||i.landmarks_nearby.some(l=>l.toLowerCase().includes(n))});return r.length>0?r:null}findDirections(t,n){if(!this.isLoaded)return null;const r=this.searchLocation(t),i=this.searchLocation(n);return r&&i?{from:r[0],to:i[0],route:this.calculateRoute(r[0],i[0])}:null}calculateRoute(t,n){const r=t.connections.filter(i=>n.connections.includes(i));return r.length>0?{path:[t.node,r[0],n.node],instructions:[`Start from ${t.node}`,`Head towards ${r[0]}`,`Continue to ${n.node}`]}:{path:[t.node,n.node],instructions:[`Navigate from ${t.node} to ${n.node}`,"Use the main pathways and follow campus signage"]}}generateResponse(t,n){if(!this.isLoaded)return"🏫 I'm still loading campus information. Please try again in a moment!";const r=this.searchLocation(t);if(!r)return"🏫 I couldn't find that location on campus. Could you be more specific? You can ask about buildings like 'Main Block', 'AI & ML Block', 'Amenity Centre', or facilities like 'canteen', 'library', etc.";const i=r[0];let s=`🏫 **${i.node}** - *Campus Navigator Mode*

`;return s+=`📍 **Description:** ${i.describe}

`,i.voice_hint&&(s+=`🧭 **Navigation Hint:** ${i.voice_hint}

`),i.landmarks_nearby&&i.landmarks_nearby.length>0&&(s+=`🏛️ **Nearby Landmarks:** ${i.landmarks_nearby.join(", ")}

`),i.accessibility&&i.accessibility.length>0&&(s+=`♿ **Accessibility:** ${Array.isArray(i.accessibility)?i.accessibility.join(", "):i.accessibility}

`),i.connections&&i.connections.length>0&&(s+=`🔗 **Connected Areas:** ${i.connections.join(", ")}

`),s+=`💡 **Need directions?** Just ask "How to get to [destination] from ${i.node}"`,s}}class Ds{constructor(){this.campusNavigator=new Os,this.initializeNavigator()}async initializeNavigator(){await this.campusNavigator.loadCampusData()}async generateResponse(t,n){const r=n||Dr(t);return r.mode==="campus"?{response:this.campusNavigator.generateResponse(t,r),mode:"campus",confidence:r.confidence,source:"Campus Navigator"}:{response:null,mode:"volunteer",confidence:r.confidence,source:"Volunteer Hub"}}getWelcomeMessage(){return`🎒 **Hello! I'm DORA** - your Digital Outreach & Resource Assistant!

I can help you with:
🏫 **Campus Navigation** - Find buildings, directions, and facilities
🙋‍♀️ **Volunteer Opportunities** - Discover events and register for activities

**Try asking me:**
• "Where is the AI & ML Block?"
• "Show me upcoming volunteer events"
• "How to get to the Main Block?"
• "What health-related volunteer opportunities are available?"

I automatically detect what you need and switch between Campus Navigator and Volunteer Hub modes! 🤖✨`}}const Ln=new Ds,Lr=e=>e==="campus"?"🏫":"🙋‍♀️",Mr=e=>e==="campus"?"Campus Navigator Mode":"Volunteer Hub Mode",Ls=e=>e==="campus"?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700",Vt="/api",Ms="AIzaSyDjwsRlPhNh5gGhOE2NTMJ7TqhtqtyVb58",on=Be(wt((e,t)=>({messages:[],isLoading:!1,currentSessionId:null,currentSession:null,currentMode:"volunteer",initSession:(n=null)=>{const r=Tr(),i={sender:"ai",text:Ln.getWelcomeMessage(),timestamp:new Date().toISOString(),mode:"welcome"},s=n?Ns(n):{id:r,title:"New DORA Chat",messages:[i],timestamp:new Date().toISOString(),lastActivity:new Date().toISOString()},a=[{id:`${r}_welcome`,role:"assistant",content:i.text,timestamp:i.timestamp,mode:"welcome"}];return e({currentSessionId:r,currentSession:s,messages:a,currentMode:"volunteer"}),At(s),r},createNewSession:()=>t().initSession(),loadSession:n=>{try{const r=Es(n);if(r){const i=r.messages.map((o,l)=>({id:`${n}_${l}`,role:o.sender==="user"?"user":"assistant",content:o.text,timestamp:o.timestamp||new Date().toISOString(),mode:o.mode||"volunteer",confidence:o.confidence||0,source:o.source||(o.sender==="user"?"User":"AI")})),s=i.filter(o=>o.role==="assistant").slice(-3),a=s.length>0?s[s.length-1].mode:"volunteer";return e({currentSessionId:n,currentSession:r,messages:i,currentMode:a}),!0}return!1}catch(r){return console.error("Failed to load session:",r),!1}},addMessage:n=>{const r=t();let{currentSessionId:i,currentSession:s}=r;if((!i||!s)&&(i=t().initSession(n.role==="user"?n.content:null),s=t().currentSession),n.role==="user"&&s.title==="New DORA Chat"){const c={...s,title:n.content.length>50?n.content.substring(0,50)+"...":n.content};e({currentSession:c}),s=c}const a={id:`${i}_${Date.now()}`,timestamp:new Date().toISOString(),mode:n.mode||"volunteer",confidence:n.confidence||0,source:n.source||"User",...n};e(c=>({messages:[...c.messages,a]}));const o=n.role==="user"?"user":"ai",l={sender:o,text:n.content,timestamp:a.timestamp,mode:a.mode,confidence:a.confidence,source:a.source};Cs(i,o,n.content);const u={...s,messages:[...s.messages,l],lastActivity:new Date().toISOString()};At(u),e({currentSession:u})},sendMessage:async n=>{const{addMessage:r}=t(),i=Dr(n),s=i.mode;r({role:"user",content:n,mode:s,confidence:i.confidence}),e({isLoading:!0,currentMode:s});try{const a=await Ln.generateResponse(n,i);if(a.mode==="campus"&&a.response){r({role:"assistant",content:a.response,mode:"campus",confidence:a.confidence,source:a.source}),e({isLoading:!1});return}await t().sendToGeminiAI(n,s,i)}catch(a){console.error("DORA processing error:",a),r({role:"assistant",content:s==="campus"?"🏫 I'm having trouble accessing campus information right now. Please try asking about buildings, departments, or facilities again in a moment!":"🙋‍♀️ I'm having connectivity issues but I'm still here to help with volunteer opportunities! You can check the events panel or ask me about specific volunteer programs.",mode:s,isError:!0}),e({isLoading:!1})}},sendToGeminiAI:async(n,r,i)=>{var a,o,l,u,c;const{addMessage:s}=t();try{let p="You are DORA (Digital Outreach & Resource Assistant) for Sri Eshwar College of Engineering. ";r==="campus"?(p+="You are currently in Campus Navigator mode 🏫. Help users with campus locations, directions, and facilities. ",p+="If you don't have specific campus data, provide general helpful guidance about navigating a college campus. ",p+='Always include the 🏫 emoji and mention "Campus Navigator Mode" in your responses.'):(p+="You are currently in Volunteer Hub mode 🙋‍♀️. Help users discover volunteer opportunities, events, and community service programs. ",p+="Focus on volunteer activities, event registration, community engagement, and social causes. ",p+='Always include the 🙋‍♀️ emoji and mention "Volunteer Hub Mode" in your responses.'),p+=`

User's detected intent keywords: ${i.keywords.join(", ")||"general query"}`,p+=`
Confidence level: ${i.confidence}/5`,p+=`

Provide helpful, friendly, and informative responses. Keep responses concise but comprehensive.`;const f=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${Ms}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${p}

User query: ${n}`}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}})});if(!f.ok)throw new Error(`Gemini API error: ${f.status}`);const x=(c=(u=(l=(o=(a=(await f.json()).candidates)==null?void 0:a[0])==null?void 0:o.content)==null?void 0:l.parts)==null?void 0:u[0])==null?void 0:c.text;if(x)s({role:"assistant",content:x,mode:r,confidence:i.confidence,source:r==="campus"?"Campus Navigator (AI)":"Volunteer Hub (AI)"});else throw new Error("No response from Gemini AI")}catch(p){console.error("Gemini AI error:",p);try{const y=await fetch(`${Vt}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,sessionId:t().currentSessionId,mode:r,intent:i})});if(y.ok){const w=await y.json();if(w.success){s({role:"assistant",content:w.response,mode:r,source:w.source||"Server"});return}}}catch(y){console.error("Server fallback failed:",y)}const f={campus:["🏫 I'm having trouble accessing campus information right now. However, I can still help you navigate! Most buildings at SECE are well-marked, and you can ask security or reception for specific directions.","🏫 Campus Navigator is temporarily offline, but here's a tip: The main buildings are typically labeled, and the reception at the main entrance can provide detailed directions to any department or facility.","🏫 I'm experiencing connectivity issues with campus data. Try asking again in a moment, or you can visit the main reception for immediate assistance with campus navigation."],volunteer:["🙋‍♀️ I'm having network issues but I'm still here to help with volunteer opportunities! Check out the events panel for upcoming activities, or ask me about specific volunteer categories like environment, education, or health.","🙋‍♀️ Connection is unstable, but I can still assist with volunteer programs! You can explore community service opportunities in the sidebar or ask about upcoming volunteer events at SECE.","🙋‍♀️ I'm working in offline mode right now. While I reconnect, feel free to browse volunteer opportunities or ask me about specific volunteer programs like tree plantation, blood donation, or coding workshops."]},h=f[r]||f.volunteer,x=h[Math.floor(Math.random()*h.length)];s({role:"assistant",content:x,mode:r,isError:!0})}finally{e({isLoading:!1})}},clearChat:()=>{e({messages:[]});const{currentSession:n}=t();if(n){const r={...n,messages:[],lastActivity:new Date().toISOString()};At(r),e({currentSession:r})}},getChatSessions:()=>{try{return Or()}catch(n){return console.error("Failed to get chat sessions:",n),[]}},deleteSession:n=>{try{return Pr(n),t().currentSessionId===n&&t().createNewSession(),!0}catch(r){return console.error("Failed to delete session:",r),!1}}}),{name:"volunteer-hub-chat",partialize:e=>({currentSessionId:e.currentSessionId,currentSession:e.currentSession})}));Be((e,t)=>({events:[],categories:[],loading:!1,error:null,filters:{category:"",upcoming:!0,thisWeek:!1},fetchEvents:async(n={})=>{e({loading:!0,error:null});try{const r=new URLSearchParams;n.category&&r.append("category",n.category),n.upcoming&&r.append("upcoming","true"),n.thisWeek&&r.append("thisWeek","true");const s=await(await fetch(`${Vt}/events?${r}`)).json();if(s.success)e({events:s.events,loading:!1});else throw new Error(s.error||"Failed to fetch events")}catch(r){console.error("Events fetch error:",r),e({error:r.message,loading:!1});try{const s=await(await fetch("/data.json")).json();e({events:s||[],loading:!1,error:null})}catch(i){console.error("Failed to load local events:",i),e({events:[{title:"Sample Volunteer Event",organizer:"SECE Volunteer Hub",date:"2025-10-15",location:"Campus",description:"A sample volunteer opportunity",category:"Community Service",contact:"volunteers@sece.ac.in"}],loading:!1,error:null})}}},fetchCategories:async()=>{try{const r=await(await fetch(`${Vt}/categories`)).json();r.success&&e({categories:r.categories})}catch(n){console.error("Categories fetch error:",n),e({categories:["Environment","Education","Health","Technology","Community Service"]})}},updateFilters:n=>{const r={...t().filters,...n};e({filters:r}),t().fetchEvents(r)},getEventsByCategory:n=>{const{events:r}=t();return r.filter(i=>i.category.toLowerCase().includes(n.toLowerCase()))},getUpcomingEvents:()=>{const{events:n}=t(),r=new Date().toISOString().split("T")[0];return n.filter(i=>i.date>=r)}}));const Rs=Be(wt(e=>({isDarkMode:!1,sidebarOpen:!0,historyPanelOpen:!1,toggleDarkMode:()=>{e(t=>{const n=!t.isDarkMode;return n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),{isDarkMode:n}})},setDarkMode:t=>{e({isDarkMode:t}),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleSidebar:()=>{e(t=>({sidebarOpen:!t.sidebarOpen}))},setSidebarOpen:t=>{e({sidebarOpen:t})},toggleHistoryPanel:()=>{e(t=>({historyPanelOpen:!t.historyPanelOpen}))},setHistoryPanelOpen:t=>{e({historyPanelOpen:t})}}),{name:"volunteer-hub-ui",onRehydrateStorage:()=>e=>{e!=null&&e.isDarkMode&&document.documentElement.classList.add("dark")}})),Pe="/api",de={CHAT_SESSIONS:"volunteerHubChats",CURRENT_SESSION:"volunteerHubCurrentSession"},Te=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("Failed to save to localStorage:",n)}},Tt=(e,t=null)=>{try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn("Failed to load from localStorage:",n),t}};Be(wt((e,t)=>({messages:[],isLoading:!1,sessionId:null,chatSessions:[],currentSession:null,useLocalStorage:!1,initSession:()=>{const n=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return e({sessionId:n,messages:[],currentSession:{sessionId:n,title:"New Chat",lastActivity:new Date}}),n},loadChatSessions:async()=>{try{const r=await(await fetch(`${Pe}/chat-sessions`)).json();r.success&&(e({chatSessions:r.sessions,useLocalStorage:!1}),Te(de.CHAT_SESSIONS,r.sessions))}catch(n){console.error("Failed to load chat sessions from server, using localStorage:",n);const r=Tt(de.CHAT_SESSIONS,[]);e({chatSessions:r,useLocalStorage:!0})}},switchToSession:async n=>{e({isLoading:!0});try{const i=await(await fetch(`${Pe}/chat/${n}`)).json();if(i.success){const{session:s}=i,a={sessionId:s.sessionId,messages:s.messages.map((o,l)=>({id:Date.now()+l,role:o.role,content:o.content,timestamp:o.timestamp,isError:o.isError})),currentSession:{sessionId:s.sessionId,title:s.title,lastActivity:s.lastActivity},isLoading:!1};e(a),Te(de.CURRENT_SESSION,a.currentSession)}else throw new Error(i.error||"Failed to load session")}catch(r){console.error("Failed to switch session from server, checking localStorage:",r);const s=Tt(de.CHAT_SESSIONS,[]).find(a=>a.sessionId===n);e(s?{sessionId:s.sessionId,messages:s.messages||[],currentSession:{sessionId:s.sessionId,title:s.title,lastActivity:s.lastActivity},isLoading:!1,useLocalStorage:!0}:{isLoading:!1})}},createNewSession:()=>{const n=t().initSession();return t().loadChatSessions(),n},deleteSession:async n=>{try{const{useLocalStorage:r}=t();if(!r&&!(await fetch(`${Pe}/chat/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete from server");const i=t().chatSessions.filter(s=>s.sessionId!==n);e({chatSessions:i}),Te(de.CHAT_SESSIONS,i),t().sessionId===n&&t().createNewSession()}catch(r){console.error("Failed to delete session from server, removing locally:",r);const i=t().chatSessions.filter(s=>s.sessionId!==n);e({chatSessions:i,useLocalStorage:!0}),Te(de.CHAT_SESSIONS,i),t().sessionId===n&&t().createNewSession()}},addMessage:n=>{e(r=>({messages:[...r.messages,{id:Date.now(),timestamp:new Date().toISOString(),...n}]}))},sendMessage:async n=>{const{sessionId:r,addMessage:i,useLocalStorage:s}=t(),a=r||t().initSession();i({role:"user",content:n}),e({isLoading:!0});try{const o=await fetch(`${Pe}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,sessionId:a})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const l=await o.json();if(l.success){i({role:"assistant",content:l.response,isRegistrationFlow:l.isRegistrationFlow});const u=t().currentSession;if(u&&u.title==="New Chat"){const c=n.length>50?n.substring(0,50)+"...":n,p={...u,title:c,lastActivity:new Date().toISOString()};e({currentSession:p}),Te(de.CURRENT_SESSION,p)}t().loadChatSessions()}else throw new Error(l.error||"Failed to get response")}catch(o){console.error("Chat error:",o),i({role:"assistant",content:"Sorry, I encountered an error while processing your message. This might be due to network connectivity issues. I'm now working in offline mode - your chat history will be saved locally.",isError:!0}),s||e({useLocalStorage:!0})}finally{e({isLoading:!1});const o=t();if(o.currentSession){const l={...o.currentSession,messages:o.messages,lastActivity:new Date().toISOString()},u=Tt(de.CHAT_SESSIONS,[]),c=u.findIndex(p=>p.sessionId===o.sessionId);c>=0?u[c]=l:u.unshift(l),Te(de.CHAT_SESSIONS,u),Te(de.CURRENT_SESSION,o.currentSession)}}},clearChat:()=>{e({messages:[]})},clearAllAndCreateNew:()=>{e({messages:[],sessionId:null,currentSession:null}),t().createNewSession()},loadHistory:async n=>{try{const i=await(await fetch(`${Pe}/chat/${n}`)).json();if(i.success&&i.history){const s=i.history.map((a,o)=>({id:Date.now()+o,role:a.role,content:a.content,timestamp:new Date().toISOString()}));e({messages:s,sessionId:n})}}catch(r){console.error("Failed to load chat history:",r)}}}),{name:"volunteer-hub-chat",partialize:e=>({messages:e.messages,sessionId:e.sessionId})}));const zs=Be((e,t)=>({events:[],categories:[],loading:!1,error:null,filters:{category:"",upcoming:!0,thisWeek:!1},fetchEvents:async(n={})=>{e({loading:!0,error:null});try{const r=new URLSearchParams;n.category&&r.append("category",n.category),n.upcoming&&r.append("upcoming","true"),n.thisWeek&&r.append("thisWeek","true");const s=await(await fetch(`${Pe}/events?${r}`)).json();if(s.success)e({events:s.events,loading:!1});else throw new Error(s.error||"Failed to fetch events")}catch(r){console.error("Events fetch error:",r),e({error:r.message,loading:!1})}},fetchCategories:async()=>{try{const r=await(await fetch(`${Pe}/categories`)).json();r.success&&e({categories:r.categories})}catch(n){console.error("Categories fetch error:",n)}},updateFilters:n=>{const r={...t().filters,...n};e({filters:r}),t().fetchEvents(r)},getEventsByCategory:n=>{const{events:r}=t();return r.filter(i=>i.category.toLowerCase().includes(n.toLowerCase()))},getUpcomingEvents:()=>{const{events:n}=t(),r=new Date().toISOString().split("T")[0];return n.filter(i=>i.date>=r)}})),Rr=Be(wt(e=>({isDarkMode:!1,sidebarOpen:!0,toggleDarkMode:()=>{e(t=>{const n=!t.isDarkMode;return n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),{isDarkMode:n}})},setDarkMode:t=>{e({isDarkMode:t}),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleSidebar:()=>{e(t=>({sidebarOpen:!t.sidebarOpen}))},setSidebarOpen:t=>{e({sidebarOpen:t})}}),{name:"volunteer-hub-ui",onRehydrateStorage:()=>e=>{e!=null&&e.isDarkMode&&document.documentElement.classList.add("dark")}})),_s=()=>{const{isDarkMode:e,toggleDarkMode:t,sidebarOpen:n,toggleSidebar:r}=Rr();return d.jsxs(J.header,{initial:{y:-100},animate:{y:0},className:"glass border-b border-gray-200 dark:border-gray-700 px-4 py-3 z-30",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:r,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Toggle sidebar",children:d.jsx(Hi,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:d.jsx(ft,{className:"w-6 h-6 text-white"})}),d.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center",children:d.jsx(Qe,{className:"w-2.5 h-2.5 text-white"})})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"DORA"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Digital Outreach & Resource Assistant • SECE"})]})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-3 pl-3 border-l border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-1 text-xs text-blue-600 dark:text-blue-400",children:[d.jsx(xt,{className:"w-3 h-3"}),d.jsx("span",{children:"Campus Navigator"})]}),d.jsx("div",{className:"w-1 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"}),d.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600 dark:text-green-400",children:[d.jsx(bt,{className:"w-3 h-3"}),d.jsx("span",{children:"Volunteer Hub"})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("a",{href:"https://github.com/sece-dora",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100","aria-label":"View DORA on GitHub",children:d.jsx(Bi,{className:"w-5 h-5"})}),d.jsxs("a",{href:"/docs",className:"hidden sm:flex items-center space-x-1 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[d.jsx("span",{children:"Docs"}),d.jsx($i,{className:"w-3 h-3"})]}),d.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Toggle theme",children:d.jsx(J.div,{initial:!1,animate:{rotate:e?180:0},transition:{duration:.3},children:e?d.jsx(Ui,{className:"w-5 h-5 text-yellow-500"}):d.jsx(Vi,{className:"w-5 h-5 text-gray-600"})})}),d.jsxs("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-200 dark:border-purple-700",children:[d.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs font-medium text-purple-700 dark:text-purple-400",children:"DORA Online"})]})]})]}),d.jsx("div",{className:"sm:hidden mt-2 flex items-center justify-center",children:d.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-full border border-purple-200 dark:border-purple-700",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs font-medium text-purple-700 dark:text-purple-400",children:"DORA AI is online • Smart context switching enabled"})]})})]})},Fs=()=>{const{sidebarOpen:e,setSidebarOpen:t}=Rr(),{events:n,categories:r,loading:i,filters:s,fetchEvents:a,fetchCategories:o,updateFilters:l,getUpcomingEvents:u}=zs();T.useEffect(()=>{a(),o()},[]);const c=u(),p=y=>({Environment:Qi,Health:bt,Education:Xi,"Community Service":Ki,Awareness:An,"Social Awareness":An,"Technology Assistance":Gi})[y]||ut,f=y=>({Environment:"text-green-600 bg-green-100 dark:bg-green-900/20",Health:"text-red-600 bg-red-100 dark:bg-red-900/20",Education:"text-blue-600 bg-blue-100 dark:bg-blue-900/20","Community Service":"text-purple-600 bg-purple-100 dark:bg-purple-900/20",Awareness:"text-orange-600 bg-orange-100 dark:bg-orange-900/20","Social Awareness":"text-pink-600 bg-pink-100 dark:bg-pink-900/20","Technology Assistance":"text-indigo-600 bg-indigo-100 dark:bg-indigo-900/20"})[y]||"text-gray-600 bg-gray-100 dark:bg-gray-900/20",h=y=>{try{const w=zi(y);return _i(w)?"Today":Fi(w)?"Tomorrow":$t(w,"MMM dd")}catch{return y}},x={open:{x:0,opacity:1},closed:{x:-320,opacity:0}};return d.jsxs(d.Fragment,{children:[d.jsx(De,{children:e&&d.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),d.jsx(J.div,{variants:x,animate:e?"open":"closed",transition:{type:"spring",stiffness:300,damping:30},className:"fixed left-0 top-0 h-full w-80 glass border-r border-gray-200 dark:border-gray-700 z-50 lg:relative lg:translate-x-0",children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Events & Filters"}),d.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:d.jsx(sn,{className:"w-5 h-5"})})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[d.jsx(qi,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),d.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Filters"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.upcoming,onChange:y=>l({upcoming:y.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Upcoming events"})]}),d.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.thisWeek,onChange:y=>l({thisWeek:y.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"This week"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),d.jsxs("select",{value:s.category,onChange:y=>l({category:y.target.value}),className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[d.jsx("option",{value:"",children:"All categories"}),r.map(y=>d.jsx("option",{value:y,children:y},y))]})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[d.jsx(Wi,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),d.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Categories"})]}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(y=>{const w=p(y),k=f(y),C=n.filter(N=>N.category===y).length;return d.jsxs("button",{onClick:()=>l({category:y}),className:`p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-left ${s.category===y?"ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/20":""}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-lg ${k} flex items-center justify-center mb-2`,children:d.jsx(w,{className:"w-4 h-4"})}),d.jsx("div",{className:"text-xs font-medium text-gray-900 dark:text-gray-100 mb-1",children:y}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[C," event",C!==1?"s":""]})]},y)})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[d.jsx(ut,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),d.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Upcoming Events"}),d.jsx("span",{className:"text-xs bg-primary-100 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 px-2 py-1 rounded-full",children:c.length})]}),i?d.jsx("div",{className:"space-y-3",children:[...Array(3)].map((y,w)=>d.jsx("div",{className:"animate-pulse",children:d.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded-lg"})},w))}):c.length>0?d.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto custom-scrollbar",children:c.slice(0,10).map(y=>{const w=p(y.category),k=f(y.category);return d.jsx(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer group",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:`w-8 h-8 rounded-lg ${k} flex items-center justify-center flex-shrink-0`,children:d.jsx(w,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate mb-1",children:y.title}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[d.jsx(Ir,{className:"w-3 h-3 mr-1"}),h(y.date)]}),d.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[d.jsx(xt,{className:"w-3 h-3 mr-1"}),d.jsx("span",{className:"truncate",children:y.location})]}),d.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[d.jsx(Yi,{className:"w-3 h-3 mr-1"}),d.jsx("span",{className:"truncate",children:y.organizer})]})]})]}),d.jsx(Ji,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors"})]})},y.title)})}):d.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[d.jsx(ut,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),d.jsx("p",{className:"text-sm",children:"No upcoming events"})]})]})]})]})})]})};function Hs(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Bs=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$s=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Us={};function Mn(e,t){return(Us.jsx?$s:Bs).test(e)}const Vs=/[ \t\n\f\r]/g;function qs(e){return typeof e=="object"?e.type==="text"?Rn(e.value):!1:Rn(e)}function Rn(e){return e.replace(Vs,"")===""}class tt{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}tt.prototype.normal={};tt.prototype.property={};tt.prototype.space=void 0;function zr(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new tt(n,r,t)}function qt(e){return e.toLowerCase()}class ne{constructor(t,n){this.attribute=n,this.property=t}}ne.prototype.attribute="";ne.prototype.booleanish=!1;ne.prototype.boolean=!1;ne.prototype.commaOrSpaceSeparated=!1;ne.prototype.commaSeparated=!1;ne.prototype.defined=!1;ne.prototype.mustUseProperty=!1;ne.prototype.number=!1;ne.prototype.overloadedBoolean=!1;ne.prototype.property="";ne.prototype.spaceSeparated=!1;ne.prototype.space=void 0;let Ws=0;const M=Le(),Y=Le(),Wt=Le(),S=Le(),U=Le(),Fe=Le(),ie=Le();function Le(){return 2**++Ws}const Yt=Object.freeze(Object.defineProperty({__proto__:null,boolean:M,booleanish:Y,commaOrSpaceSeparated:ie,commaSeparated:Fe,number:S,overloadedBoolean:Wt,spaceSeparated:U},Symbol.toStringTag,{value:"Module"})),Pt=Object.keys(Yt);class ln extends ne{constructor(t,n,r,i){let s=-1;if(super(t,n),zn(this,"space",i),typeof r=="number")for(;++s<Pt.length;){const a=Pt[s];zn(this,Pt[s],(r&Yt[a])===Yt[a])}}}ln.prototype.defined=!0;function zn(e,t,n){n&&(e[t]=n)}function $e(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new ln(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[qt(r)]=r,n[qt(s.attribute)]=r}return new tt(t,n,e.space)}const _r=$e({properties:{ariaActiveDescendant:null,ariaAtomic:Y,ariaAutoComplete:null,ariaBusy:Y,ariaChecked:Y,ariaColCount:S,ariaColIndex:S,ariaColSpan:S,ariaControls:U,ariaCurrent:null,ariaDescribedBy:U,ariaDetails:null,ariaDisabled:Y,ariaDropEffect:U,ariaErrorMessage:null,ariaExpanded:Y,ariaFlowTo:U,ariaGrabbed:Y,ariaHasPopup:null,ariaHidden:Y,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:U,ariaLevel:S,ariaLive:null,ariaModal:Y,ariaMultiLine:Y,ariaMultiSelectable:Y,ariaOrientation:null,ariaOwns:U,ariaPlaceholder:null,ariaPosInSet:S,ariaPressed:Y,ariaReadOnly:Y,ariaRelevant:null,ariaRequired:Y,ariaRoleDescription:U,ariaRowCount:S,ariaRowIndex:S,ariaRowSpan:S,ariaSelected:Y,ariaSetSize:S,ariaSort:null,ariaValueMax:S,ariaValueMin:S,ariaValueNow:S,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Fr(e,t){return t in e?e[t]:t}function Hr(e,t){return Fr(e,t.toLowerCase())}const Ys=$e({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fe,acceptCharset:U,accessKey:U,action:null,allow:null,allowFullScreen:M,allowPaymentRequest:M,allowUserMedia:M,alt:null,as:null,async:M,autoCapitalize:null,autoComplete:U,autoFocus:M,autoPlay:M,blocking:U,capture:null,charSet:null,checked:M,cite:null,className:U,cols:S,colSpan:null,content:null,contentEditable:Y,controls:M,controlsList:U,coords:S|Fe,crossOrigin:null,data:null,dateTime:null,decoding:null,default:M,defer:M,dir:null,dirName:null,disabled:M,download:Wt,draggable:Y,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:M,formTarget:null,headers:U,height:S,hidden:Wt,high:S,href:null,hrefLang:null,htmlFor:U,httpEquiv:U,id:null,imageSizes:null,imageSrcSet:null,inert:M,inputMode:null,integrity:null,is:null,isMap:M,itemId:null,itemProp:U,itemRef:U,itemScope:M,itemType:U,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:M,low:S,manifest:null,max:null,maxLength:S,media:null,method:null,min:null,minLength:S,multiple:M,muted:M,name:null,nonce:null,noModule:M,noValidate:M,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:M,optimum:S,pattern:null,ping:U,placeholder:null,playsInline:M,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:M,referrerPolicy:null,rel:U,required:M,reversed:M,rows:S,rowSpan:S,sandbox:U,scope:null,scoped:M,seamless:M,selected:M,shadowRootClonable:M,shadowRootDelegatesFocus:M,shadowRootMode:null,shape:null,size:S,sizes:null,slot:null,span:S,spellCheck:Y,src:null,srcDoc:null,srcLang:null,srcSet:null,start:S,step:null,style:null,tabIndex:S,target:null,title:null,translate:null,type:null,typeMustMatch:M,useMap:null,value:Y,width:S,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:U,axis:null,background:null,bgColor:null,border:S,borderColor:null,bottomMargin:S,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:M,declare:M,event:null,face:null,frame:null,frameBorder:null,hSpace:S,leftMargin:S,link:null,longDesc:null,lowSrc:null,marginHeight:S,marginWidth:S,noResize:M,noHref:M,noShade:M,noWrap:M,object:null,profile:null,prompt:null,rev:null,rightMargin:S,rules:null,scheme:null,scrolling:Y,standby:null,summary:null,text:null,topMargin:S,valueType:null,version:null,vAlign:null,vLink:null,vSpace:S,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:M,disableRemotePlayback:M,prefix:null,property:null,results:S,security:null,unselectable:null},space:"html",transform:Hr}),Js=$e({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ie,accentHeight:S,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:S,amplitude:S,arabicForm:null,ascent:S,attributeName:null,attributeType:null,azimuth:S,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:S,by:null,calcMode:null,capHeight:S,className:U,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:S,diffuseConstant:S,direction:null,display:null,dur:null,divisor:S,dominantBaseline:null,download:M,dx:null,dy:null,edgeMode:null,editable:null,elevation:S,enableBackground:null,end:null,event:null,exponent:S,externalResourcesRequired:null,fill:null,fillOpacity:S,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fe,g2:Fe,glyphName:Fe,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:S,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:S,horizOriginX:S,horizOriginY:S,id:null,ideographic:S,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:S,k:S,k1:S,k2:S,k3:S,k4:S,kernelMatrix:ie,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:S,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:S,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:S,overlineThickness:S,paintOrder:null,panose1:null,path:null,pathLength:S,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:U,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:S,pointsAtY:S,pointsAtZ:S,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ie,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ie,rev:ie,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ie,requiredFeatures:ie,requiredFonts:ie,requiredFormats:ie,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:S,specularExponent:S,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:S,strikethroughThickness:S,string:null,stroke:null,strokeDashArray:ie,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:S,strokeOpacity:S,strokeWidth:null,style:null,surfaceScale:S,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ie,tabIndex:S,tableValues:null,target:null,targetX:S,targetY:S,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ie,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:S,underlineThickness:S,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:S,values:null,vAlphabetic:S,vMathematical:S,vectorEffect:null,vHanging:S,vIdeographic:S,version:null,vertAdvY:S,vertOriginX:S,vertOriginY:S,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:S,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Fr}),Br=$e({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),$r=$e({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Hr}),Ur=$e({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Gs={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ks=/[A-Z]/g,_n=/-[a-z]/g,Xs=/^data[-\w.:]+$/i;function Qs(e,t){const n=qt(t);let r=t,i=ne;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Xs.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(_n,ea);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!_n.test(s)){let a=s.replace(Ks,Zs);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=ln}return new i(r,t)}function Zs(e){return"-"+e.toLowerCase()}function ea(e){return e.charAt(1).toUpperCase()}const ta=zr([_r,Ys,Br,$r,Ur],"html"),un=zr([_r,Js,Br,$r,Ur],"svg");function na(e){return e.join(" ").trim()}var cn={},Fn=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ra=/\n/g,ia=/^\s*/,sa=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,aa=/^:\s*/,oa=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,la=/^[;\s]*/,ua=/^\s+|\s+$/g,ca=`
`,Hn="/",Bn="*",Oe="",da="comment",pa="declaration",ha=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(x){var y=x.match(ra);y&&(n+=y.length);var w=x.lastIndexOf(ca);r=~w?x.length-w:r+x.length}function s(){var x={line:n,column:r};return function(y){return y.position=new a(x),u(),y}}function a(x){this.start=x,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(x){var y=new Error(t.source+":"+n+":"+r+": "+x);if(y.reason=x,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(x){var y=x.exec(e);if(y){var w=y[0];return i(w),e=e.slice(w.length),y}}function u(){l(ia)}function c(x){var y;for(x=x||[];y=p();)y!==!1&&x.push(y);return x}function p(){var x=s();if(!(Hn!=e.charAt(0)||Bn!=e.charAt(1))){for(var y=2;Oe!=e.charAt(y)&&(Bn!=e.charAt(y)||Hn!=e.charAt(y+1));)++y;if(y+=2,Oe===e.charAt(y-1))return o("End of comment missing");var w=e.slice(2,y-2);return r+=2,i(w),e=e.slice(y),r+=2,x({type:da,comment:w})}}function f(){var x=s(),y=l(sa);if(y){if(p(),!l(aa))return o("property missing ':'");var w=l(oa),k=x({type:pa,property:$n(y[0].replace(Fn,Oe)),value:w?$n(w[0].replace(Fn,Oe)):Oe});return l(la),k}}function h(){var x=[];c(x);for(var y;y=f();)y!==!1&&(x.push(y),c(x));return x}return u(),h()};function $n(e){return e?e.replace(ua,Oe):Oe}var fa=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cn,"__esModule",{value:!0});cn.default=ga;var ma=fa(ha);function ga(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,ma.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var St={};Object.defineProperty(St,"__esModule",{value:!0});St.camelCase=void 0;var ya=/^--[a-zA-Z0-9_-]+$/,xa=/-([a-z])/g,ba=/^[^-]+$/,ka=/^-(webkit|moz|ms|o|khtml)-/,wa=/^-(ms)-/,va=function(e){return!e||ba.test(e)||ya.test(e)},Sa=function(e,t){return t.toUpperCase()},Un=function(e,t){return"".concat(t,"-")},Na=function(e,t){return t===void 0&&(t={}),va(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(wa,Un):e=e.replace(ka,Un),e.replace(xa,Sa))};St.camelCase=Na;var Ca=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ea=Ca(cn),Ia=St;function Jt(e,t){var n={};return!e||typeof e!="string"||(0,Ea.default)(e,function(r,i){r&&i&&(n[(0,Ia.camelCase)(r,t)]=i)}),n}Jt.default=Jt;var ja=Jt;const Aa=Er(ja),Vr=qr("end"),dn=qr("start");function qr(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Ta(e){const t=dn(e),n=Vr(e);if(t&&n)return{start:t,end:n}}function Ge(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Vn(e.position):"start"in e||"end"in e?Vn(e):"line"in e||"column"in e?Gt(e):""}function Gt(e){return qn(e&&e.line)+":"+qn(e&&e.column)}function Vn(e){return Gt(e&&e.start)+"-"+Gt(e&&e.end)}function qn(e){return e&&typeof e=="number"?e:1}class Z extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Ge(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Z.prototype.file="";Z.prototype.name="";Z.prototype.reason="";Z.prototype.message="";Z.prototype.stack="";Z.prototype.column=void 0;Z.prototype.line=void 0;Z.prototype.ancestors=void 0;Z.prototype.cause=void 0;Z.prototype.fatal=void 0;Z.prototype.place=void 0;Z.prototype.ruleId=void 0;Z.prototype.source=void 0;const pn={}.hasOwnProperty,Pa=new Map,Oa=/[A-Z]/g,Da=new Set(["table","tbody","thead","tfoot","tr"]),La=new Set(["td","th"]),Wr="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ma(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Ua(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$a(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?un:ta,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Yr(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Yr(e,t,n){if(t.type==="element")return Ra(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return za(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Fa(e,t,n);if(t.type==="mdxjsEsm")return _a(e,t);if(t.type==="root")return Ha(e,t,n);if(t.type==="text")return Ba(e,t)}function Ra(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=un,e.schema=i),e.ancestors.push(t);const s=Gr(e,t.tagName,!1),a=Va(e,t);let o=fn(e,t);return Da.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!qs(l):!0})),Jr(e,a,s,t),hn(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function za(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}et(e,t.position)}function _a(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);et(e,t.position)}function Fa(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=un,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Gr(e,t.name,!0),a=qa(e,t),o=fn(e,t);return Jr(e,a,s,t),hn(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function Ha(e,t,n){const r={};return hn(r,fn(e,t)),e.create(t,e.Fragment,r,n)}function Ba(e,t){return t.value}function Jr(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function hn(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function $a(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function Ua(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=dn(r);return t(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Va(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&pn.call(t.properties,i)){const s=Wa(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&La.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function qa(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else et(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else et(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function fn(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Pa;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const o=Yr(e,s,a);o!==void 0&&n.push(o)}return n}function Wa(e,t,n){const r=Qs(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Hs(n):na(n)),r.property==="style"){let i=typeof n=="object"?n:Ya(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Ja(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Gs[r.property]||r.property:r.attribute,n]}}function Ya(e,t){try{return Aa(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Z("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Wr+"#cannot-parse-style-attribute",i}}function Gr(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=Mn(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=Mn(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return pn.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);et(e)}function et(e,t){const n=new Z("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Wr+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ja(e){const t={};let n;for(n in e)pn.call(e,n)&&(t[Ga(n)]=e[n]);return t}function Ga(e){let t=e.replace(Oa,Ka);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Ka(e){return"-"+e.toLowerCase()}const Ot={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Xa={};function Qa(e,t){const n=Xa,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Kr(e,r,i)}function Kr(e,t,n){if(Za(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Wn(e.children,t,n)}return Array.isArray(e)?Wn(e,t,n):""}function Wn(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Kr(e[i],t,n);return r.join("")}function Za(e){return!!(e&&typeof e=="object")}const Yn=document.createElement("i");function mn(e){const t="&"+e+";";Yn.innerHTML=t;const n=Yn.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function me(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function ae(e,t){return e.length>0?(me(e,e.length,0,t),e):t}const Jn={}.hasOwnProperty;function eo(e){const t={};let n=-1;for(;++n<e.length;)to(t,e[n]);return t}function to(e,t){let n;for(n in t){const i=(Jn.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){Jn.call(i,a)||(i[a]=[]);const o=s[a];no(i[a],Array.isArray(o)?o:o?[o]:[])}}}function no(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);me(e,0,0,r)}function Xr(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function He(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const he=Ee(/[A-Za-z]/),se=Ee(/[\dA-Za-z]/),ro=Ee(/[#-'*+\--9=?A-Z^-~]/);function Kt(e){return e!==null&&(e<32||e===127)}const Xt=Ee(/\d/),io=Ee(/[\dA-Fa-f]/),so=Ee(/[!-/:-@[-`{-~]/);function D(e){return e!==null&&e<-2}function te(e){return e!==null&&(e<0||e===32)}function H(e){return e===-2||e===-1||e===32}const ao=Ee(new RegExp("\\p{P}|\\p{S}","u")),oo=Ee(/\s/);function Ee(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ue(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&se(e.charCodeAt(n+1))&&se(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function V(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return H(l)?(e.enter(n),o(l)):t(l)}function o(l){return H(l)&&s++<i?(e.consume(l),o):(e.exit(n),t(l))}}const lo={tokenize:uo};function uo(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),V(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return D(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const co={tokenize:po},Gn={tokenize:ho};function po(e){const t=this,n=[];let r=0,i,s,a;return o;function o(N){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,l,u)(N)}return u(N)}function l(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&C();const I=t.events.length;let O=I,v;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){v=t.events[O][1].end;break}k(r);let j=I;for(;j<t.events.length;)t.events[j][1].end={...v},j++;return me(t.events,O+1,0,t.events.slice(I)),t.events.length=j,u(N)}return o(N)}function u(N){if(r===n.length){if(!i)return f(N);if(i.currentConstruct&&i.currentConstruct.concrete)return x(N);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Gn,c,p)(N)}function c(N){return i&&C(),k(r),f(N)}function p(N){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,x(N)}function f(N){return t.containerState={},e.attempt(Gn,h,x)(N)}function h(N){return r++,n.push([t.currentConstruct,t.containerState]),f(N)}function x(N){if(N===null){i&&C(),k(0),e.consume(N);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(N)}function y(N){if(N===null){w(e.exit("chunkFlow"),!0),k(0),e.consume(N);return}return D(N)?(e.consume(N),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(N),y)}function w(N,I){const O=t.sliceStream(N);if(I&&O.push(null),N.previous=s,s&&(s.next=N),s=N,i.defineSkip(N.start),i.write(O),t.parser.lazy[N.start.line]){let v=i.events.length;for(;v--;)if(i.events[v][1].start.offset<a&&(!i.events[v][1].end||i.events[v][1].end.offset>a))return;const j=t.events.length;let B=j,R,_;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(R){_=t.events[B][1].end;break}R=!0}for(k(r),v=j;v<t.events.length;)t.events[v][1].end={..._},v++;me(t.events,B+1,0,t.events.slice(j)),t.events.length=v}}function k(N){let I=n.length;for(;I-- >N;){const O=n[I];t.containerState=O[1],O[0].exit.call(t,e)}n.length=N}function C(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function ho(e,t,n){return V(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Kn(e){if(e===null||te(e)||oo(e))return 1;if(ao(e))return 2}function gn(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Qt={name:"attention",resolveAll:fo,tokenize:mo};function fo(e,t){let n=-1,r,i,s,a,o,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},f={...e[n][1].start};Xn(p,-l),Xn(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ae(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ae(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=ae(u,gn(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ae(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=ae(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,me(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function mo(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Kn(r);let s;return a;function a(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const u=e.exit("attentionSequence"),c=Kn(l),p=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?p:p&&(i||!f)),u._close=!!(s===42?f:f&&(c||!p)),t(l)}}function Xn(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const go={name:"autolink",tokenize:yo};function yo(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return he(h)?(e.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||se(h)?(r=1,o(h)):u(h)}function o(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||se(h))&&r++<32?(e.consume(h),o):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Kt(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):ro(h)?(e.consume(h),u):n(h)}function c(h){return se(h)?p(h):n(h)}function p(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||se(h))&&r++<63){const x=h===45?f:p;return e.consume(h),x}return n(h)}}const Nt={partial:!0,tokenize:xo};function xo(e,t,n){return r;function r(s){return H(s)?V(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||D(s)?t(s):n(s)}}const Qr={continuation:{tokenize:ko},exit:wo,name:"blockQuote",tokenize:bo};function bo(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return H(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function ko(e,t,n){const r=this;return i;function i(a){return H(a)?V(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(Qr,t,n)(a)}}function wo(e){e.exit("blockQuote")}const Zr={name:"characterEscape",tokenize:vo};function vo(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return so(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const ei={name:"characterReference",tokenize:So};function So(e,t,n){const r=this;let i=0,s,a;return o;function o(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),l}function l(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=se,c(p))}function u(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=io,c):(e.enter("characterReferenceValue"),s=7,a=Xt,c(p))}function c(p){if(p===59&&i){const f=e.exit("characterReferenceValue");return a===se&&!mn(r.sliceSerialize(f))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&i++<s?(e.consume(p),c):n(p)}}const Qn={partial:!0,tokenize:Co},Zn={concrete:!0,name:"codeFenced",tokenize:No};function No(e,t,n){const r=this,i={partial:!0,tokenize:O};let s=0,a=0,o;return l;function l(v){return u(v)}function u(v){const j=r.events[r.events.length-1];return s=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=v,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(v)}function c(v){return v===o?(a++,e.consume(v),c):a<3?n(v):(e.exit("codeFencedFenceSequence"),H(v)?V(e,p,"whitespace")(v):p(v))}function p(v){return v===null||D(v)?(e.exit("codeFencedFence"),r.interrupt?t(v):e.check(Qn,y,I)(v)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===null||D(v)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(v)):H(v)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),V(e,h,"whitespace")(v)):v===96&&v===o?n(v):(e.consume(v),f)}function h(v){return v===null||D(v)?p(v):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===null||D(v)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(v)):v===96&&v===o?n(v):(e.consume(v),x)}function y(v){return e.attempt(i,I,w)(v)}function w(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),k}function k(v){return s>0&&H(v)?V(e,C,"linePrefix",s+1)(v):C(v)}function C(v){return v===null||D(v)?e.check(Qn,y,I)(v):(e.enter("codeFlowValue"),N(v))}function N(v){return v===null||D(v)?(e.exit("codeFlowValue"),C(v)):(e.consume(v),N)}function I(v){return e.exit("codeFenced"),t(v)}function O(v,j,B){let R=0;return _;function _(F){return v.enter("lineEnding"),v.consume(F),v.exit("lineEnding"),P}function P(F){return v.enter("codeFencedFence"),H(F)?V(v,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):A(F)}function A(F){return F===o?(v.enter("codeFencedFenceSequence"),q(F)):B(F)}function q(F){return F===o?(R++,v.consume(F),q):R>=a?(v.exit("codeFencedFenceSequence"),H(F)?V(v,W,"whitespace")(F):W(F)):B(F)}function W(F){return F===null||D(F)?(v.exit("codeFencedFence"),j(F)):B(F)}}}function Co(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Dt={name:"codeIndented",tokenize:Io},Eo={partial:!0,tokenize:jo};function Io(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),V(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):D(u)?e.attempt(Eo,a,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||D(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function jo(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):D(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):V(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):D(a)?i(a):n(a)}}const Ao={name:"codeText",previous:Po,resolve:To,tokenize:Oo};function To(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Po(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Oo(e,t,n){let r=0,i,s;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),o(p)}function o(p){return p===96?(e.consume(p),r++,o):(e.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),l):p===96?(s=e.enter("codeTextSequence"),i=0,c(p)):D(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(p))}function u(p){return p===null||p===32||p===96||D(p)?(e.exit("codeTextData"),l(p)):(e.consume(p),u)}function c(p){return p===96?(e.consume(p),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",u(p))}}class Do{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ye(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ye(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ye(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ye(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ye(this.left,n.reverse())}}}function Ye(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ti(e){const t={};let n=-1,r,i,s,a,o,l,u;const c=new Do(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Lo(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=c.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},o=c.slice(i,n),o.unshift(r),c.splice(i,n-i+1,o))}}return me(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function Lo(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],u={};let c,p,f=-1,h=n,x=0,y=0;const w=[y];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),p&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=h,h=h.next}for(h=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(y=f+1,w.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):w.pop(),f=w.length;f--;){const k=o.slice(w[f],w[f+1]),C=s.pop();l.push([C,C+k.length-1]),e.splice(C,2,k)}for(l.reverse(),f=-1;++f<l.length;)u[x+l[f][0]]=x+l[f][1],x+=l[f][1]-l[f][0]-1;return u}const Mo={resolve:zo,tokenize:_o},Ro={partial:!0,tokenize:Fo};function zo(e){return ti(e),e}function _o(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):D(o)?e.check(Ro,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Fo(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),V(e,s,"linePrefix")}function s(a){if(a===null||D(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function ni(e,t,n,r,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return p;function p(k){return k===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(k),e.exit(s),f):k===null||k===32||k===41||Kt(k)?n(k):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),y(k))}function f(k){return k===62?(e.enter(s),e.consume(k),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===62?(e.exit("chunkString"),e.exit(o),f(k)):k===null||k===60||D(k)?n(k):(e.consume(k),k===92?x:h)}function x(k){return k===60||k===62||k===92?(e.consume(k),h):h(k)}function y(k){return!c&&(k===null||k===41||te(k))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(k)):c<u&&k===40?(e.consume(k),c++,y):k===41?(e.consume(k),c--,y):k===null||k===32||k===40||Kt(k)?n(k):(e.consume(k),k===92?w:y)}function w(k){return k===40||k===41||k===92?(e.consume(k),y):y(k)}}function ri(e,t,n,r,i,s){const a=this;let o=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):D(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),p(h))}function p(h){return h===null||h===91||h===93||D(h)||o++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!H(h)),h===92?f:p)}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,p):p(h)}}function ii(e,t,n,r,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),a=f===40?41:f,l):n(f)}function l(f){return f===a?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===a?(e.exit(s),l(a)):f===null?n(f):D(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),V(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===a||f===null||D(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?p:c)}function p(f){return f===a||f===92?(e.consume(f),c):c(f)}}function Ke(e,t){let n;return r;function r(i){return D(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):H(i)?V(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Ho={name:"definition",tokenize:$o},Bo={partial:!0,tokenize:Uo};function $o(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),a(h)}function a(h){return ri.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return i=He(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return te(h)?Ke(e,u)(h):u(h)}function u(h){return ni(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(Bo,p,p)(h)}function p(h){return H(h)?V(e,f,"whitespace")(h):f(h)}function f(h){return h===null||D(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function Uo(e,t,n){return r;function r(o){return te(o)?Ke(e,i)(o):n(o)}function i(o){return ii(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return H(o)?V(e,a,"whitespace")(o):a(o)}function a(o){return o===null||D(o)?t(o):n(o)}}const Vo={name:"hardBreakEscape",tokenize:qo};function qo(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return D(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Wo={name:"headingAtx",resolve:Yo,tokenize:Jo};function Yo(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},me(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Jo(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(e.consume(c),a):c===null||te(c)?(e.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||D(c)?(e.exit("atxHeading"),t(c)):H(c)?V(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||te(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const Go=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],er=["pre","script","style","textarea"],Ko={concrete:!0,name:"htmlFlow",resolveTo:Zo,tokenize:el},Xo={partial:!0,tokenize:nl},Qo={partial:!0,tokenize:tl};function Zo(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function el(e,t,n){const r=this;let i,s,a,o,l;return u;function u(g){return c(g)}function c(g){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g),p}function p(g){return g===33?(e.consume(g),f):g===47?(e.consume(g),s=!0,y):g===63?(e.consume(g),i=3,r.interrupt?t:m):he(g)?(e.consume(g),a=String.fromCharCode(g),w):n(g)}function f(g){return g===45?(e.consume(g),i=2,h):g===91?(e.consume(g),i=5,o=0,x):he(g)?(e.consume(g),i=4,r.interrupt?t:m):n(g)}function h(g){return g===45?(e.consume(g),r.interrupt?t:m):n(g)}function x(g){const ue="CDATA[";return g===ue.charCodeAt(o++)?(e.consume(g),o===ue.length?r.interrupt?t:A:x):n(g)}function y(g){return he(g)?(e.consume(g),a=String.fromCharCode(g),w):n(g)}function w(g){if(g===null||g===47||g===62||te(g)){const ue=g===47,je=a.toLowerCase();return!ue&&!s&&er.includes(je)?(i=1,r.interrupt?t(g):A(g)):Go.includes(a.toLowerCase())?(i=6,ue?(e.consume(g),k):r.interrupt?t(g):A(g)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):s?C(g):N(g))}return g===45||se(g)?(e.consume(g),a+=String.fromCharCode(g),w):n(g)}function k(g){return g===62?(e.consume(g),r.interrupt?t:A):n(g)}function C(g){return H(g)?(e.consume(g),C):_(g)}function N(g){return g===47?(e.consume(g),_):g===58||g===95||he(g)?(e.consume(g),I):H(g)?(e.consume(g),N):_(g)}function I(g){return g===45||g===46||g===58||g===95||se(g)?(e.consume(g),I):O(g)}function O(g){return g===61?(e.consume(g),v):H(g)?(e.consume(g),O):N(g)}function v(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(e.consume(g),l=g,j):H(g)?(e.consume(g),v):B(g)}function j(g){return g===l?(e.consume(g),l=null,R):g===null||D(g)?n(g):(e.consume(g),j)}function B(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||te(g)?O(g):(e.consume(g),B)}function R(g){return g===47||g===62||H(g)?N(g):n(g)}function _(g){return g===62?(e.consume(g),P):n(g)}function P(g){return g===null||D(g)?A(g):H(g)?(e.consume(g),P):n(g)}function A(g){return g===45&&i===2?(e.consume(g),Q):g===60&&i===1?(e.consume(g),K):g===62&&i===4?(e.consume(g),le):g===63&&i===3?(e.consume(g),m):g===93&&i===5?(e.consume(g),ge):D(g)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Xo,ye,q)(g)):g===null||D(g)?(e.exit("htmlFlowData"),q(g)):(e.consume(g),A)}function q(g){return e.check(Qo,W,ye)(g)}function W(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),F}function F(g){return g===null||D(g)?q(g):(e.enter("htmlFlowData"),A(g))}function Q(g){return g===45?(e.consume(g),m):A(g)}function K(g){return g===47?(e.consume(g),a="",oe):A(g)}function oe(g){if(g===62){const ue=a.toLowerCase();return er.includes(ue)?(e.consume(g),le):A(g)}return he(g)&&a.length<8?(e.consume(g),a+=String.fromCharCode(g),oe):A(g)}function ge(g){return g===93?(e.consume(g),m):A(g)}function m(g){return g===62?(e.consume(g),le):g===45&&i===2?(e.consume(g),m):A(g)}function le(g){return g===null||D(g)?(e.exit("htmlFlowData"),ye(g)):(e.consume(g),le)}function ye(g){return e.exit("htmlFlow"),t(g)}}function tl(e,t,n){const r=this;return i;function i(a){return D(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function nl(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Nt,t,n)}}const rl={name:"htmlText",tokenize:il};function il(e,t,n){const r=this;let i,s,a;return o;function o(m){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(m),l}function l(m){return m===33?(e.consume(m),u):m===47?(e.consume(m),O):m===63?(e.consume(m),N):he(m)?(e.consume(m),B):n(m)}function u(m){return m===45?(e.consume(m),c):m===91?(e.consume(m),s=0,x):he(m)?(e.consume(m),C):n(m)}function c(m){return m===45?(e.consume(m),h):n(m)}function p(m){return m===null?n(m):m===45?(e.consume(m),f):D(m)?(a=p,K(m)):(e.consume(m),p)}function f(m){return m===45?(e.consume(m),h):p(m)}function h(m){return m===62?Q(m):m===45?f(m):p(m)}function x(m){const le="CDATA[";return m===le.charCodeAt(s++)?(e.consume(m),s===le.length?y:x):n(m)}function y(m){return m===null?n(m):m===93?(e.consume(m),w):D(m)?(a=y,K(m)):(e.consume(m),y)}function w(m){return m===93?(e.consume(m),k):y(m)}function k(m){return m===62?Q(m):m===93?(e.consume(m),k):y(m)}function C(m){return m===null||m===62?Q(m):D(m)?(a=C,K(m)):(e.consume(m),C)}function N(m){return m===null?n(m):m===63?(e.consume(m),I):D(m)?(a=N,K(m)):(e.consume(m),N)}function I(m){return m===62?Q(m):N(m)}function O(m){return he(m)?(e.consume(m),v):n(m)}function v(m){return m===45||se(m)?(e.consume(m),v):j(m)}function j(m){return D(m)?(a=j,K(m)):H(m)?(e.consume(m),j):Q(m)}function B(m){return m===45||se(m)?(e.consume(m),B):m===47||m===62||te(m)?R(m):n(m)}function R(m){return m===47?(e.consume(m),Q):m===58||m===95||he(m)?(e.consume(m),_):D(m)?(a=R,K(m)):H(m)?(e.consume(m),R):Q(m)}function _(m){return m===45||m===46||m===58||m===95||se(m)?(e.consume(m),_):P(m)}function P(m){return m===61?(e.consume(m),A):D(m)?(a=P,K(m)):H(m)?(e.consume(m),P):R(m)}function A(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(e.consume(m),i=m,q):D(m)?(a=A,K(m)):H(m)?(e.consume(m),A):(e.consume(m),W)}function q(m){return m===i?(e.consume(m),i=void 0,F):m===null?n(m):D(m)?(a=q,K(m)):(e.consume(m),q)}function W(m){return m===null||m===34||m===39||m===60||m===61||m===96?n(m):m===47||m===62||te(m)?R(m):(e.consume(m),W)}function F(m){return m===47||m===62||te(m)?R(m):n(m)}function Q(m){return m===62?(e.consume(m),e.exit("htmlTextData"),e.exit("htmlText"),t):n(m)}function K(m){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),oe}function oe(m){return H(m)?V(e,ge,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):ge(m)}function ge(m){return e.enter("htmlTextData"),a(m)}}const yn={name:"labelEnd",resolveAll:ll,resolveTo:ul,tokenize:cl},sl={tokenize:dl},al={tokenize:pl},ol={tokenize:hl};function ll(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&me(e,0,e.length,n),e}function ul(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=ae(o,e.slice(s+1,s+r+3)),o=ae(o,[["enter",c,t]]),o=ae(o,gn(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=ae(o,[["exit",c,t],e[a-2],e[a-1],["exit",u,t]]),o=ae(o,e.slice(a+1)),o=ae(o,[["exit",l,t]]),me(e,s,e.length,o),e}function cl(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(f){return s?s._inactive?p(f):(a=r.parser.defined.includes(He(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(sl,c,a?c:p)(f):f===91?e.attempt(al,c,a?u:p)(f):a?c(f):p(f)}function u(f){return e.attempt(ol,c,p)(f)}function c(f){return t(f)}function p(f){return s._balanced=!0,n(f)}}function dl(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return te(p)?Ke(e,s)(p):s(p)}function s(p){return p===41?c(p):ni(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return te(p)?Ke(e,l)(p):c(p)}function o(p){return n(p)}function l(p){return p===34||p===39||p===40?ii(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):c(p)}function u(p){return te(p)?Ke(e,c)(p):c(p)}function c(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function pl(e,t,n){const r=this;return i;function i(o){return ri.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(He(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function hl(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const fl={name:"labelStartImage",resolveAll:yn.resolveAll,tokenize:ml};function ml(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const gl={name:"labelStartLink",resolveAll:yn.resolveAll,tokenize:yl};function yl(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Lt={name:"lineEnding",tokenize:xl};function xl(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),V(e,t,"linePrefix")}}const ct={name:"thematicBreak",tokenize:bl};function bl(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||D(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),H(u)?V(e,o,"whitespace")(u):o(u))}}const ee={continuation:{tokenize:Sl},exit:Cl,name:"list",tokenize:vl},kl={partial:!0,tokenize:El},wl={partial:!0,tokenize:Nl};function vl(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(h){const x=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Xt(h)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(ct,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Xt(h)&&++a<10?(e.consume(h),l):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Nt,r.interrupt?n:c,e.attempt(kl,f,p))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function p(h){return H(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function Sl(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Nt,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,V(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!H(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(wl,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,V(e,e.attempt(ee,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Nl(e,t,n){const r=this;return V(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function Cl(e){e.exit(this.containerState.type)}function El(e,t,n){const r=this;return V(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!H(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const tr={name:"setextUnderline",resolveTo:Il,tokenize:jl};function Il(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function jl(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,p;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){p=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),H(u)?V(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||D(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Al={tokenize:Tl};function Tl(e){const t=this,n=e.attempt(Nt,r,e.attempt(this.parser.constructs.flowInitial,i,V(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Mo,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Pl={resolveAll:ai()},Ol=si("string"),Dl=si("text");function si(e){return{resolveAll:ai(e==="text"?Ll:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(c){return u(c)?s(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const p=i[c];let f=-1;if(p)for(;++f<p.length;){const h=p[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function ai(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Ll(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Ml={42:ee,43:ee,45:ee,48:ee,49:ee,50:ee,51:ee,52:ee,53:ee,54:ee,55:ee,56:ee,57:ee,62:Qr},Rl={91:Ho},zl={[-2]:Dt,[-1]:Dt,32:Dt},_l={35:Wo,42:ct,45:[tr,ct],60:Ko,61:tr,95:ct,96:Zn,126:Zn},Fl={38:ei,92:Zr},Hl={[-5]:Lt,[-4]:Lt,[-3]:Lt,33:fl,38:ei,42:Qt,60:[go,rl],91:gl,92:[Vo,Zr],93:yn,95:Qt,96:Ao},Bl={null:[Qt,Pl]},$l={null:[42,95]},Ul={null:[]},Vl=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:$l,contentInitial:Rl,disable:Ul,document:Ml,flow:_l,flowInitial:zl,insideSpan:Bl,string:Fl,text:Hl},Symbol.toStringTag,{value:"Module"}));function ql(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:j(O),check:j(v),consume:C,enter:N,exit:I,interrupt:j(v,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:x,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:p};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function p(P){return a=ae(a,P),w(),a[a.length-1]!==null?[]:(B(t,0),u.events=gn(s,u.events,u),u.events)}function f(P,A){return Yl(h(P),A)}function h(P){return Wl(a,P)}function x(){const{_bufferIndex:P,_index:A,line:q,column:W,offset:F}=r;return{_bufferIndex:P,_index:A,line:q,column:W,offset:F}}function y(P){i[P.line]=P.column,_()}function w(){let P;for(;r._index<a.length;){const A=a[r._index];if(typeof A=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<A.length;)k(A.charCodeAt(r._bufferIndex));else k(A)}}function k(P){c=c(P)}function C(P){D(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,_()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function N(P,A){const q=A||{};return q.type=P,q.start=x(),u.events.push(["enter",q,u]),o.push(q),q}function I(P){const A=o.pop();return A.end=x(),u.events.push(["exit",A,u]),A}function O(P,A){B(P,A.from)}function v(P,A){A.restore()}function j(P,A){return q;function q(W,F,Q){let K,oe,ge,m;return Array.isArray(W)?ye(W):"tokenize"in W?ye([W]):le(W);function le(X){return Ve;function Ve(Se){const Me=Se!==null&&X[Se],Re=Se!==null&&X.null,it=[...Array.isArray(Me)?Me:Me?[Me]:[],...Array.isArray(Re)?Re:Re?[Re]:[]];return ye(it)(Se)}}function ye(X){return K=X,oe=0,X.length===0?Q:g(X[oe])}function g(X){return Ve;function Ve(Se){return m=R(),ge=X,X.partial||(u.currentConstruct=X),X.name&&u.parser.constructs.disable.null.includes(X.name)?je():X.tokenize.call(A?Object.assign(Object.create(u),A):u,l,ue,je)(Se)}}function ue(X){return P(ge,m),F}function je(X){return m.restore(),++oe<K.length?g(K[oe]):Q}}}function B(P,A){P.resolveAll&&!s.includes(P)&&s.push(P),P.resolve&&me(u.events,A,u.events.length-A,P.resolve(u.events.slice(A),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function R(){const P=x(),A=u.previous,q=u.currentConstruct,W=u.events.length,F=Array.from(o);return{from:W,restore:Q};function Q(){r=P,u.previous=A,u.currentConstruct=q,u.events.length=W,o=F,_()}}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Wl(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function Yl(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function Jl(e){const r={constructs:eo([Vl,...(e||{}).extensions||[]]),content:i(lo),defined:[],document:i(co),flow:i(Al),lazy:{},string:i(Ol),text:i(Dl)};return r;function i(s){return a;function a(o){return ql(r,s,o)}}}function Gl(e){for(;!ti(e););return e}const nr=/[\0\t\n\r]/g;function Kl(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const l=[];let u,c,p,f,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),p=0,t="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(nr.lastIndex=p,u=nr.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){t=s.slice(p);break}if(h===10&&p===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<f&&(l.push(s.slice(p,f)),e+=f-p),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}p=f+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Xl=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ql(e){return e.replace(Xl,Zl)}function Zl(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Xr(n.slice(s?2:1),s?16:10)}return mn(n)||e}const oi={}.hasOwnProperty;function eu(e,t,n){return typeof t!="string"&&(n=t,t=void 0),tu(n)(Gl(Jl(n).document().write(Kl()(e,t,!0))))}function tu(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(In),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(Nn),blockQuote:s(Re),characterEscape:R,characterReference:R,codeFenced:s(it),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(it,a),codeText:s(Ei,a),codeTextData:R,data:R,codeFlowValue:R,definition:s(Ii),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(ji),hardBreakEscape:s(Cn),hardBreakTrailing:s(Cn),htmlFlow:s(En,a),htmlFlowData:R,htmlText:s(En,a),htmlTextData:R,image:s(Ai),label:a,link:s(In),listItem:s(Ti),listItemValue:f,listOrdered:s(jn,p),listUnordered:s(jn),paragraph:s(Pi),reference:g,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Nn),strong:s(Oi),thematicBreak:s(Li)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Me,autolinkProtocol:Se,blockQuote:l(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:X,characterReference:Ve,codeFenced:l(w),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:x,codeFlowValue:_,codeIndented:l(k),codeText:l(F),codeTextData:_,data:_,definition:l(),definitionDestinationString:I,definitionLabelString:C,definitionTitleString:N,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(q),htmlFlowData:_,htmlText:l(W),htmlTextData:_,image:l(K),label:ge,labelText:oe,lineEnding:P,link:l(Q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ue,resourceDestinationString:m,resourceTitleString:le,resource:ye,setextHeading:l(B),setextHeadingLineSequence:j,setextHeadingText:v,strong:l(),thematicBreak:l()}};li(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(b){let E={type:"root",children:[]};const L={stack:[E],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:c,data:n},z=[];let $=-1;for(;++$<b.length;)if(b[$][1].type==="listOrdered"||b[$][1].type==="listUnordered")if(b[$][0]==="enter")z.push($);else{const ce=z.pop();$=i(b,ce,$)}for($=-1;++$<b.length;){const ce=t[b[$][0]];oi.call(ce,b[$][1].type)&&ce[b[$][1].type].call(Object.assign({sliceSerialize:b[$][2].sliceSerialize},L),b[$][1])}if(L.tokenStack.length>0){const ce=L.tokenStack[L.tokenStack.length-1];(ce[1]||rr).call(L,void 0,ce[0])}for(E.position={start:Ne(b.length>0?b[0][1].start:{line:1,column:1,offset:0}),end:Ne(b.length>0?b[b.length-2][1].end:{line:1,column:1,offset:0})},$=-1;++$<t.transforms.length;)E=t.transforms[$](E)||E;return E}function i(b,E,L){let z=E-1,$=-1,ce=!1,Ae,xe,qe,We;for(;++z<=L;){const re=b[z];switch(re[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{re[0]==="enter"?$++:$--,We=void 0;break}case"lineEndingBlank":{re[0]==="enter"&&(Ae&&!We&&!$&&!qe&&(qe=z),We=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:We=void 0}if(!$&&re[0]==="enter"&&re[1].type==="listItemPrefix"||$===-1&&re[0]==="exit"&&(re[1].type==="listUnordered"||re[1].type==="listOrdered")){if(Ae){let ze=z;for(xe=void 0;ze--;){const be=b[ze];if(be[1].type==="lineEnding"||be[1].type==="lineEndingBlank"){if(be[0]==="exit")continue;xe&&(b[xe][1].type="lineEndingBlank",ce=!0),be[1].type="lineEnding",xe=ze}else if(!(be[1].type==="linePrefix"||be[1].type==="blockQuotePrefix"||be[1].type==="blockQuotePrefixWhitespace"||be[1].type==="blockQuoteMarker"||be[1].type==="listItemIndent"))break}qe&&(!xe||qe<xe)&&(Ae._spread=!0),Ae.end=Object.assign({},xe?b[xe][1].start:re[1].end),b.splice(xe||z,0,["exit",Ae,re[2]]),z++,L++}if(re[1].type==="listItemPrefix"){const ze={type:"listItem",_spread:!1,start:Object.assign({},re[1].start),end:void 0};Ae=ze,b.splice(z,0,["enter",ze,re[2]]),z++,L++,qe=void 0,We=!0}}}return b[E][1]._spread=ce,L}function s(b,E){return L;function L(z){o.call(this,b(z),z),E&&E.call(this,z)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(b,E,L){this.stack[this.stack.length-1].children.push(b),this.stack.push(b),this.tokenStack.push([E,L||void 0]),b.position={start:Ne(E.start),end:void 0}}function l(b){return E;function E(L){b&&b.call(this,L),u.call(this,L)}}function u(b,E){const L=this.stack.pop(),z=this.tokenStack.pop();if(z)z[0].type!==b.type&&(E?E.call(this,b,z[0]):(z[1]||rr).call(this,b,z[0]));else throw new Error("Cannot close `"+b.type+"` ("+Ge({start:b.start,end:b.end})+"): it’s not open");L.position.end=Ne(b.end)}function c(){return Qa(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function f(b){if(this.data.expectingFirstListItemValue){const E=this.stack[this.stack.length-2];E.start=Number.parseInt(this.sliceSerialize(b),10),this.data.expectingFirstListItemValue=void 0}}function h(){const b=this.resume(),E=this.stack[this.stack.length-1];E.lang=b}function x(){const b=this.resume(),E=this.stack[this.stack.length-1];E.meta=b}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const b=this.resume(),E=this.stack[this.stack.length-1];E.value=b.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const b=this.resume(),E=this.stack[this.stack.length-1];E.value=b.replace(/(\r?\n|\r)$/g,"")}function C(b){const E=this.resume(),L=this.stack[this.stack.length-1];L.label=E,L.identifier=He(this.sliceSerialize(b)).toLowerCase()}function N(){const b=this.resume(),E=this.stack[this.stack.length-1];E.title=b}function I(){const b=this.resume(),E=this.stack[this.stack.length-1];E.url=b}function O(b){const E=this.stack[this.stack.length-1];if(!E.depth){const L=this.sliceSerialize(b).length;E.depth=L}}function v(){this.data.setextHeadingSlurpLineEnding=!0}function j(b){const E=this.stack[this.stack.length-1];E.depth=this.sliceSerialize(b).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function R(b){const L=this.stack[this.stack.length-1].children;let z=L[L.length-1];(!z||z.type!=="text")&&(z=Di(),z.position={start:Ne(b.start),end:void 0},L.push(z)),this.stack.push(z)}function _(b){const E=this.stack.pop();E.value+=this.sliceSerialize(b),E.position.end=Ne(b.end)}function P(b){const E=this.stack[this.stack.length-1];if(this.data.atHardBreak){const L=E.children[E.children.length-1];L.position.end=Ne(b.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(E.type)&&(R.call(this,b),_.call(this,b))}function A(){this.data.atHardBreak=!0}function q(){const b=this.resume(),E=this.stack[this.stack.length-1];E.value=b}function W(){const b=this.resume(),E=this.stack[this.stack.length-1];E.value=b}function F(){const b=this.resume(),E=this.stack[this.stack.length-1];E.value=b}function Q(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const E=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=E,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function K(){const b=this.stack[this.stack.length-1];if(this.data.inReference){const E=this.data.referenceType||"shortcut";b.type+="Reference",b.referenceType=E,delete b.url,delete b.title}else delete b.identifier,delete b.label;this.data.referenceType=void 0}function oe(b){const E=this.sliceSerialize(b),L=this.stack[this.stack.length-2];L.label=Ql(E),L.identifier=He(E).toLowerCase()}function ge(){const b=this.stack[this.stack.length-1],E=this.resume(),L=this.stack[this.stack.length-1];if(this.data.inReference=!0,L.type==="link"){const z=b.children;L.children=z}else L.alt=E}function m(){const b=this.resume(),E=this.stack[this.stack.length-1];E.url=b}function le(){const b=this.resume(),E=this.stack[this.stack.length-1];E.title=b}function ye(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function ue(b){const E=this.resume(),L=this.stack[this.stack.length-1];L.label=E,L.identifier=He(this.sliceSerialize(b)).toLowerCase(),this.data.referenceType="full"}function je(b){this.data.characterReferenceType=b.type}function X(b){const E=this.sliceSerialize(b),L=this.data.characterReferenceType;let z;L?(z=Xr(E,L==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):z=mn(E);const $=this.stack[this.stack.length-1];$.value+=z}function Ve(b){const E=this.stack.pop();E.position.end=Ne(b.end)}function Se(b){_.call(this,b);const E=this.stack[this.stack.length-1];E.url=this.sliceSerialize(b)}function Me(b){_.call(this,b);const E=this.stack[this.stack.length-1];E.url="mailto:"+this.sliceSerialize(b)}function Re(){return{type:"blockquote",children:[]}}function it(){return{type:"code",lang:null,meta:null,value:""}}function Ei(){return{type:"inlineCode",value:""}}function Ii(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ji(){return{type:"emphasis",children:[]}}function Nn(){return{type:"heading",depth:0,children:[]}}function Cn(){return{type:"break"}}function En(){return{type:"html",value:""}}function Ai(){return{type:"image",title:null,url:"",alt:null}}function In(){return{type:"link",title:null,url:"",children:[]}}function jn(b){return{type:"list",ordered:b.type==="listOrdered",start:null,spread:b._spread,children:[]}}function Ti(b){return{type:"listItem",spread:b._spread,checked:null,children:[]}}function Pi(){return{type:"paragraph",children:[]}}function Oi(){return{type:"strong",children:[]}}function Di(){return{type:"text",value:""}}function Li(){return{type:"thematicBreak"}}}function Ne(e){return{line:e.line,column:e.column,offset:e.offset}}function li(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?li(e,r):nu(e,r)}}function nu(e,t){let n;for(n in t)if(oi.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function rr(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ge({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ge({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ge({start:t.start,end:t.end})+") is still open")}function ru(e){const t=this;t.parser=n;function n(r){return eu(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function iu(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function su(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function au(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function ou(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lu(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uu(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ue(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function cu(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function du(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function ui(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function pu(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ui(e,t);const i={src:Ue(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function hu(e,t){const n={src:Ue(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function fu(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function mu(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ui(e,t);const i={href:Ue(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function gu(e,t){const n={href:Ue(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function yu(e,t,n){const r=e.all(t),i=n?xu(n):ci(t),s={},a=[];if(typeof t.checked=="boolean"){const c=r[0];let p;c&&c.type==="element"&&c.tagName==="p"?p=c:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function xu(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=ci(n[r])}return t}function ci(e){const t=e.spread;return t??e.children.length>1}function bu(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function ku(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wu(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function vu(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Su(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=dn(t.children[1]),l=Vr(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Nu(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const p=t.children[l],f={},h=a?a[l]:void 0;h&&(f.align=h);let x={type:"element",tagName:s,properties:f,children:[]};p&&(x.children=e.all(p),e.patch(p,x),x=e.applyData(p,x)),u.push(x)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Cu(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ir=9,sr=32;function Eu(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(ar(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(ar(t.slice(i),i>0,!1)),s.join("")}function ar(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===ir||s===sr;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===ir||s===sr;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Iu(e,t){const n={type:"text",value:Eu(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function ju(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Au={blockquote:iu,break:su,code:au,delete:ou,emphasis:lu,footnoteReference:uu,heading:cu,html:du,imageReference:pu,image:hu,inlineCode:fu,linkReference:mu,link:gu,listItem:yu,list:bu,paragraph:ku,root:wu,strong:vu,table:Su,tableCell:Cu,tableRow:Nu,text:Iu,thematicBreak:ju,toml:st,yaml:st,definition:st,footnoteDefinition:st};function st(){}const di=-1,Ct=0,Xe=1,mt=2,xn=3,bn=4,kn=5,wn=6,pi=7,hi=8,or=typeof self=="object"?self:globalThis,Tu=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case Ct:case di:return n(a,i);case Xe:{const o=n([],i);for(const l of a)o.push(r(l));return o}case mt:{const o=n({},i);for(const[l,u]of a)o[r(l)]=r(u);return o}case xn:return n(new Date(a),i);case bn:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case kn:{const o=n(new Map,i);for(const[l,u]of a)o.set(r(l),r(u));return o}case wn:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case pi:{const{name:o,message:l}=a;return n(new or[o](l),i)}case hi:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new or[s](a),i)};return r},lr=e=>Tu(new Map,e)(0),_e="",{toString:Pu}={},{keys:Ou}=Object,Je=e=>{const t=typeof e;if(t!=="object"||!e)return[Ct,t];const n=Pu.call(e).slice(8,-1);switch(n){case"Array":return[Xe,_e];case"Object":return[mt,_e];case"Date":return[xn,_e];case"RegExp":return[bn,_e];case"Map":return[kn,_e];case"Set":return[wn,_e];case"DataView":return[Xe,n]}return n.includes("Array")?[Xe,n]:n.includes("Error")?[pi,n]:[mt,n]},at=([e,t])=>e===Ct&&(t==="function"||t==="symbol"),Du=(e,t,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=Je(a);switch(o){case Ct:{let c=a;switch(l){case"bigint":o=hi,c=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([di],a)}return i([o,c],a)}case Xe:{if(l){let f=a;return l==="DataView"?f=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(a)),i([l,[...f]],a)}const c=[],p=i([o,c],a);for(const f of a)c.push(s(f));return p}case mt:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const c=[],p=i([o,c],a);for(const f of Ou(a))(e||!at(Je(a[f])))&&c.push([s(f),s(a[f])]);return p}case xn:return i([o,a.toISOString()],a);case bn:{const{source:c,flags:p}=a;return i([o,{source:c,flags:p}],a)}case kn:{const c=[],p=i([o,c],a);for(const[f,h]of a)(e||!(at(Je(f))||at(Je(h))))&&c.push([s(f),s(h)]);return p}case wn:{const c=[],p=i([o,c],a);for(const f of a)(e||!at(Je(f)))&&c.push(s(f));return p}}const{message:u}=a;return i([o,{name:l,message:u}],a)};return s},ur=(e,{json:t,lossy:n}={})=>{const r=[];return Du(!(t||n),!!t,new Map,r)(e),r},gt=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?lr(ur(e,t)):structuredClone(e):(e,t)=>lr(ur(e,t));function Lu(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Mu(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ru(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Lu,r=e.options.footnoteBackLabel||Mu,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),p=String(u.identifier).toUpperCase(),f=Ue(p.toLowerCase());let h=0;const x=[],y=e.footnoteCounts.get(p);for(;y!==void 0&&++h<=y;){x.length>0&&x.push({type:"text",value:" "});let C=typeof n=="string"?n:n(l,h);typeof C=="string"&&(C={type:"text",value:C}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const C=w.children[w.children.length-1];C&&C.type==="text"?C.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...x)}else c.push(...x);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,k),o.push(k)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...gt(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const fi=function(e){if(e==null)return Hu;if(typeof e=="function")return Et(e);if(typeof e=="object")return Array.isArray(e)?zu(e):_u(e);if(typeof e=="string")return Fu(e);throw new Error("Expected function, string, or object as test")};function zu(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fi(e[n]);return Et(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function _u(e){const t=e;return Et(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Fu(e){return Et(t);function t(n){return n&&n.type===e}}function Et(e){return t;function t(n,r,i){return!!(Bu(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Hu(){return!0}function Bu(e){return e!==null&&typeof e=="object"&&"type"in e}const mi=[],$u=!0,cr=!1,Uu="skip";function Vu(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=fi(i),a=r?-1:1;o(e,void 0,[])();function o(l,u,c){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const h=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=mi,x,y,w;if((!t||s(l,u,c[c.length-1]||void 0))&&(h=qu(n(l,c)),h[0]===cr))return h;if("children"in l&&l.children){const k=l;if(k.children&&h[0]!==Uu)for(y=(r?k.children.length:-1)+a,w=c.concat(k);y>-1&&y<k.children.length;){const C=k.children[y];if(x=o(C,y,w)(),x[0]===cr)return x;y=typeof x[1]=="number"?x[1]:y+a}}return h}}}function qu(e){return Array.isArray(e)?e:typeof e=="number"?[$u,e]:e==null?mi:[e]}function gi(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),Vu(e,s,o,i);function o(l,u){const c=u[u.length-1],p=c?c.children.indexOf(l):void 0;return a(l,p,c)}}const Zt={}.hasOwnProperty,Wu={};function Yu(e,t){const n=t||Wu,r=new Map,i=new Map,s=new Map,a={...Au,...n.handlers},o={all:u,applyData:Gu,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:Ju,wrap:Xu};return gi(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const p=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();p.has(f)||p.set(f,c)}}),o;function l(c,p){const f=c.type,h=o.handlers[f];if(Zt.call(o.handlers,f)&&h)return h(o,c,p);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in c){const{children:y,...w}=c,k=gt(w);return k.children=o.all(c),k}return gt(c)}return(o.options.unknownHandler||Ku)(o,c,p)}function u(c){const p=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const x=o.one(f[h],c);if(x){if(h&&f[h-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=dr(x.value)),!Array.isArray(x)&&x.type==="element")){const y=x.children[0];y&&y.type==="text"&&(y.value=dr(y.value))}Array.isArray(x)?p.push(...x):p.push(x)}}}return p}}function Ju(e,t){e.position&&(t.position=Ta(e))}function Gu(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,gt(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Ku(e,t){const n=t.data||{},r="value"in t&&!(Zt.call(n,"hProperties")||Zt.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Xu(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function dr(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function pr(e,t){const n=Yu(e,t),r=n.one(e,void 0),i=Ru(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Qu(e,t){return e&&"run"in e?async function(n,r){const i=pr(n,{file:r,...t});await e.run(i,r)}:function(n,r){return pr(n,{file:r,...e||t})}}function hr(e){if(e)throw e}var dt=Object.prototype.hasOwnProperty,yi=Object.prototype.toString,fr=Object.defineProperty,mr=Object.getOwnPropertyDescriptor,gr=function(t){return typeof Array.isArray=="function"?Array.isArray(t):yi.call(t)==="[object Array]"},yr=function(t){if(!t||yi.call(t)!=="[object Object]")return!1;var n=dt.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&dt.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||dt.call(t,i)},xr=function(t,n){fr&&n.name==="__proto__"?fr(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},br=function(t,n){if(n==="__proto__")if(dt.call(t,n)){if(mr)return mr(t,n).value}else return;return t[n]},Zu=function e(){var t,n,r,i,s,a,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=br(o,n),i=br(t,n),o!==i&&(c&&i&&(yr(i)||(s=gr(i)))?(s?(s=!1,a=r&&gr(r)?r:[]):a=r&&yr(r)?r:{},xr(o,{name:n,newValue:e(c,a,i)})):typeof i<"u"&&xr(o,{name:n,newValue:i}));return o};const Mt=Er(Zu);function en(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ec(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const c=e[++s];let p=-1;if(l){a(l);return}for(;++p<i.length;)(u[p]===null||u[p]===void 0)&&(u[p]=i[p]);i=u,c?tc(c,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function tc(e,t){let n;return r;function r(...a){const o=e.length>a.length;let l;o&&a.push(i);try{l=e.apply(this,a)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const pe={basename:nc,dirname:rc,extname:ic,join:sc,sep:"/"};function nc(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');nt(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function rc(e){if(nt(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ic(e){nt(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function sc(...e){let t=-1,n;for(;++t<e.length;)nt(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ac(n)}function ac(e){nt(e);const t=e.codePointAt(0)===47;let n=oc(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function oc(e,t){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function nt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const lc={cwd:uc};function uc(){return"/"}function tn(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function cc(e){if(typeof e=="string")e=new URL(e);else if(!tn(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return dc(e)}function dc(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Rt=["history","path","basename","stem","extname","dirname"];class xi{constructor(t){let n;t?tn(t)?n={path:t}:typeof t=="string"||pc(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":lc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Rt.length;){const s=Rt[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Rt.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?pe.basename(this.path):void 0}set basename(t){_t(t,"basename"),zt(t,"basename"),this.path=pe.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?pe.dirname(this.path):void 0}set dirname(t){kr(this.basename,"dirname"),this.path=pe.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?pe.extname(this.path):void 0}set extname(t){if(zt(t,"extname"),kr(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pe.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){tn(t)&&(t=cc(t)),_t(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?pe.basename(this.path,this.extname):void 0}set stem(t){_t(t,"stem"),zt(t,"stem"),this.path=pe.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Z(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function zt(e,t){if(e&&e.includes(pe.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+pe.sep+"`")}function _t(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function kr(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function pc(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const hc=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},fc={}.hasOwnProperty;class vn extends hc{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ec()}copy(){const t=new vn;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Mt(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Bt("data",this.frozen),this.namespace[t]=n,this):fc.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Bt("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ot(t),r=this.parser||this.Parser;return Ft("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ft("process",this.parser||this.Parser),Ht("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=ot(t),l=r.parse(o);r.run(l,o,function(c,p,f){if(c||!p||!f)return u(c);const h=p,x=r.stringify(h,f);yc(x)?f.value=x:f.result=x,u(c,f)});function u(c,p){c||!p?a(c):s?s(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Ft("processSync",this.parser||this.Parser),Ht("processSync",this.compiler||this.Compiler),this.process(t,i),vr("processSync","process",n),r;function i(s,a){n=!0,hr(s),r=a}}run(t,n,r){wr(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=ot(n);i.run(t,l,u);function u(c,p,f){const h=p||t;c?o(c):a?a(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),vr("runSync","run",r),i;function s(a,o){hr(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=ot(n),i=this.compiler||this.Compiler;return Ht("stringify",i),wr(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Bt("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...p]=u;l(c,p)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Mt(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const p=u[c];s(p)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let p=-1,f=-1;for(;++p<r.length;)if(r[p][0]===u){f=p;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...x]=c;const y=r[f][1];en(y)&&en(h)&&(h=Mt(!0,y,h)),r[f]=[u,h,...x]}}}}const mc=new vn().freeze();function Ft(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ht(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Bt(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wr(e){if(!en(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function vr(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ot(e){return gc(e)?e:new xi(e)}function gc(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function yc(e){return typeof e=="string"||xc(e)}function xc(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const bc="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Sr=[],Nr={allowDangerousHtml:!0},kc=/^(https?|ircs?|mailto|xmpp)$/i,wc=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function vc(e){const t=Sc(e),n=Nc(e);return Cc(t.runSync(t.parse(n),n),e)}function Sc(e){const t=e.rehypePlugins||Sr,n=e.remarkPlugins||Sr,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Nr}:Nr;return mc().use(ru).use(n).use(Qu,r).use(t)}function Nc(e){const t=e.children||"",n=new xi;return typeof t=="string"&&(n.value=t),n}function Cc(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Ec;for(const c of wc)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+bc+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),gi(e,u),Ma(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function u(c,p,f){if(c.type==="raw"&&f&&typeof p=="number")return a?f.children.splice(p,1):f.children[p]={type:"text",value:c.value},p;if(c.type==="element"){let h;for(h in Ot)if(Object.hasOwn(Ot,h)&&Object.hasOwn(c.properties,h)){const x=c.properties[h],y=Ot[h];(y===null||y.includes(c.tagName))&&(c.properties[h]=l(String(x||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!h&&r&&typeof p=="number"&&(h=!r(c,p,f)),h&&f&&typeof p=="number")return o&&c.children?f.children.splice(p,1,...c.children):f.children.splice(p,1),p}}}function Ec(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||kc.test(e.slice(0,t))?e:""}const Ic=({message:e,index:t})=>{const n=e.role==="user",r=e.isError,i=e.mode||"volunteer",s={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:500,damping:30,delay:t*.05}}},a=u=>{try{return $t(new Date(u),"HH:mm")}catch{return $t(new Date,"HH:mm")}},o=()=>n?d.jsx(Zi,{className:"w-4 h-4"}):r?d.jsx(es,{className:"w-4 h-4"}):i==="welcome"?d.jsx(ft,{className:"w-4 h-4"}):i==="campus"?d.jsx(xt,{className:"w-4 h-4"}):i==="volunteer"?d.jsx(bt,{className:"w-4 h-4"}):d.jsx(Qe,{className:"w-4 h-4"}),l=()=>n?"bg-primary-500 text-white":r?"bg-red-500 text-white":i==="welcome"?"bg-gradient-to-br from-purple-500 to-pink-500 text-white":i==="campus"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white":i==="volunteer"?"bg-gradient-to-br from-green-500 to-emerald-500 text-white":"bg-gradient-to-br from-primary-500 to-secondary-500 text-white";return d.jsx(J.div,{variants:s,initial:"hidden",animate:"visible",className:`flex ${n?"justify-end":"justify-start"} group`,children:d.jsxs("div",{className:`flex items-start space-x-3 max-w-[85%] ${n?"flex-row-reverse space-x-reverse":""}`,children:[d.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${l()}`,children:o()}),d.jsxs("div",{className:`flex flex-col ${n?"items-end":"items-start"}`,children:[!n&&i!=="welcome"&&d.jsxs("div",{className:`flex items-center space-x-1 mb-1 px-2 py-1 rounded-full text-xs font-medium ${Ls(i)}`,children:[d.jsx("span",{children:Lr(i)}),d.jsx("span",{children:Mr(i)}),e.confidence>0&&d.jsxs("span",{className:"opacity-60",children:["(",e.confidence,")"]})]}),d.jsx("div",{className:`chat-bubble ${n?"chat-bubble-user":r?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-900 dark:text-red-100":"chat-bubble-assistant"}`,children:n?d.jsx("p",{className:"whitespace-pre-wrap",children:e.content}):d.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:d.jsx(vc,{components:{p:({children:u})=>d.jsx("p",{className:"mb-2 last:mb-0",children:u}),ul:({children:u})=>d.jsx("ul",{className:"list-disc ml-4 mb-2",children:u}),ol:({children:u})=>d.jsx("ol",{className:"list-decimal ml-4 mb-2",children:u}),li:({children:u})=>d.jsx("li",{className:"mb-1",children:u}),strong:({children:u})=>d.jsx("strong",{className:"font-semibold text-primary-600 dark:text-primary-400",children:u}),code:({children:u})=>d.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded text-sm font-mono",children:u}),h1:({children:u})=>d.jsx("h1",{className:"text-xl font-bold mb-2",children:u}),h2:({children:u})=>d.jsx("h2",{className:"text-lg font-semibold mb-2",children:u}),h3:({children:u})=>d.jsx("h3",{className:"text-base font-medium mb-1",children:u})},children:e.content})})}),d.jsxs("div",{className:`flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400 mt-1 opacity-0 group-hover:opacity-100 transition-opacity ${n?"text-right flex-row-reverse space-x-reverse":"text-left"}`,children:[d.jsx("span",{children:a(e.timestamp)}),!n&&e.source&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"•"}),d.jsx("span",{className:"italic",children:e.source})]})]})]})]})})},jc=()=>d.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:d.jsxs("div",{className:"flex items-start space-x-3 max-w-[85%]",children:[d.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center bg-gradient-to-br from-primary-500 to-secondary-500 text-white",children:d.jsx(Qe,{className:"w-4 h-4"})}),d.jsx("div",{className:"chat-bubble chat-bubble-assistant",children:d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 mr-2",children:"Thinking"}),d.jsxs("div",{className:"typing-indicator",children:[d.jsx("div",{className:"typing-dot",style:{animationDelay:"0ms"}}),d.jsx("div",{className:"typing-dot",style:{animationDelay:"150ms"}}),d.jsx("div",{className:"typing-dot",style:{animationDelay:"300ms"}})]})]})})]})}),Ac=()=>{const[e,t]=T.useState(""),[n,r]=T.useState(!1),[i,s]=T.useState(!1),a=T.useRef(null),o=T.useRef(null),l=T.useRef(null),{messages:u,isLoading:c,sendMessage:p,clearChat:f,currentMode:h}=on(),x=()=>{if(o.current){const I=o.current,O=I.scrollTop<I.scrollHeight-I.clientHeight-100;s(O&&u.length>3)}},y=()=>{if(o.current){const I=o.current;I.scrollTo({top:I.scrollHeight,behavior:"smooth"})}s(!1)};T.useEffect(()=>{const I=()=>{var v;if(o.current){const j=o.current;j.scrollTop=j.scrollHeight,j.scrollTo({top:j.scrollHeight,behavior:"smooth"})}(v=a.current)==null||v.scrollIntoView({behavior:"smooth",block:"end"})};I();const O=setTimeout(I,100);return()=>clearTimeout(O)},[u,c]),T.useEffect(()=>{const I=o.current;if(I)return I.addEventListener("scroll",x),()=>I.removeEventListener("scroll",x)},[]),T.useEffect(()=>{var I;(I=l.current)==null||I.focus()},[]);const w=async I=>{if(I.preventDefault(),!e.trim()||c)return;const O=e.trim();t(""),await p(O)},k=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),w(I))},C=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Speech recognition is not supported in your browser");return}if(n){r(!1);return}const I=window.SpeechRecognition||window.webkitSpeechRecognition,O=new I;O.continuous=!1,O.interimResults=!1,O.lang="en-US",O.onstart=()=>{r(!0)},O.onresult=v=>{const j=v.results[0][0].transcript;t(j),r(!1)},O.onerror=()=>{r(!1)},O.onend=()=>{r(!1)},O.start()},N=["🏫 Where is the AI & ML Block?","🏫 How to get to the Main Block from parking?","🙋‍♀️ Show me upcoming volunteer events","🙋‍♀️ What health-related volunteer opportunities are available?","🏫 Find the library and canteen locations","🙋‍♀️ I'm interested in environment volunteering"];return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"glass p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx(ft,{className:"w-6 h-6 text-purple-500"}),d.jsx(Qe,{className:"w-3 h-3 text-yellow-400 absolute -top-1 -right-1"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"DORA"}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1",children:"Digital Outreach & Resource Assistant"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Online"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-xs font-medium border ${h==="campus"?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700 text-green-700 dark:text-green-300"}`,children:[d.jsx("span",{className:"text-sm",children:Lr(h)}),d.jsx("span",{children:Mr(h)})]}),d.jsx("button",{onClick:f,className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors px-2 py-1 rounded",children:"Clear Chat"})]})]})}),d.jsxs("div",{ref:o,className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar p-4 space-y-4 scroll-smooth relative",style:{maxHeight:"70vh",minHeight:"200px",scrollBehavior:"smooth"},children:[d.jsxs(De,{initial:!1,children:[u.length===0&&d.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:d.jsxs("div",{className:"max-w-md mx-auto",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx(ft,{className:"w-16 h-16 text-purple-500 mx-auto"}),d.jsx(Qe,{className:"w-6 h-6 text-yellow-400 absolute top-0 right-1/2 transform translate-x-6"})]}),d.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"Welcome to DORA!"}),d.jsx("h4",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Digital Outreach & Resource Assistant"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:"I'm your intelligent assistant for Sri Eshwar College of Engineering! I can help you navigate the campus 🏫 and discover volunteer opportunities 🙋‍♀️. I automatically detect what you need and switch between modes!"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700",children:[d.jsx(xt,{className:"w-6 h-6 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-medium text-blue-800 dark:text-blue-300",children:"Campus Navigator"}),d.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Find buildings, directions & facilities"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700",children:[d.jsx(bt,{className:"w-6 h-6 text-green-600"}),d.jsxs("div",{children:[d.jsx("h5",{className:"font-medium text-green-800 dark:text-green-300",children:"Volunteer Hub"}),d.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Discover events & opportunities"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"Try asking:"}),N.map((I,O)=>d.jsx(J.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.1},onClick:()=>t(I),className:"block w-full text-left p-3 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700 transition-colors text-sm",children:I},O))]})]})}),u.map((I,O)=>d.jsx(Ic,{message:I,index:O},I.id)),c&&d.jsx(jc,{})]}),d.jsx(De,{children:i&&d.jsx(J.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:y,className:"fixed bottom-24 right-6 p-3 bg-primary-500 hover:bg-primary-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 z-10",title:"Scroll to bottom",children:d.jsx(ts,{className:"w-5 h-5"})})}),d.jsx("div",{ref:a})]}),d.jsxs("div",{className:"glass p-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-md",children:[d.jsxs("form",{onSubmit:w,className:"flex items-end space-x-2",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("textarea",{ref:l,value:e,onChange:I=>t(I.target.value),onKeyPress:k,placeholder:"Ask me about campus locations or volunteer opportunities...",className:"w-full resize-none rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-3 pr-12 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none input-glow max-h-32",rows:1,style:{minHeight:"48px",height:"auto"},onInput:I=>{I.target.style.height="auto",I.target.style.height=Math.min(I.target.scrollHeight,128)+"px"}}),d.jsx("button",{type:"button",onClick:C,className:`absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-lg transition-all duration-200 ${n?"bg-red-500 text-white shadow-glow":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:n?d.jsx(ns,{className:"w-4 h-4"}):d.jsx(rs,{className:"w-4 h-4"})})]}),d.jsx("button",{type:"submit",disabled:!e.trim()||c,className:`p-3 rounded-xl transition-all duration-200 ${e.trim()&&!c?"bg-primary-500 hover:bg-primary-600 text-white shadow-sm hover:shadow-md":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:d.jsx(is,{className:"w-5 h-5"})})]}),n&&d.jsx(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-center mt-2 text-red-500",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm",children:"Listening..."})]})})]})]})},Tc=({isOpen:e,onClose:t,onSelectSession:n,onNewChat:r,currentSessionId:i})=>{const[s,a]=T.useState([]),[o,l]=T.useState(""),[u,c]=T.useState([]),[p,f]=T.useState(!1),[h,x]=T.useState(!1);T.useEffect(()=>{e&&y()},[e]),T.useEffect(()=>{if(o.trim()){const j=js(o);c(j)}else c(s)},[o,s]);const y=()=>{try{const j=Or();a(j),c(j)}catch(j){console.error("Failed to load chat sessions:",j)}},w=j=>{n(j),t()},k=async(j,B)=>{if(B.stopPropagation(),confirm("Are you sure you want to delete this chat session?"))try{Pr(j),y(),j===i&&r()}catch(R){console.error("Failed to delete session:",R)}},C=()=>{if(confirm("Are you sure you want to clear all chat history? This action cannot be undone."))try{Is(),a([]),c([]),r()}catch(j){console.error("Failed to clear history:",j)}f(!1)},N=()=>{try{Ts(),f(!1)}catch(j){console.error("Failed to export history:",j)}},I=j=>{const B=j.target.files[0];B&&(x(!0),Ps(B).then(R=>{alert(`Successfully imported ${R} chat sessions!`),y()}).catch(R=>{alert(`Failed to import: ${R.message}`)}).finally(()=>{x(!1),f(!1)}))},O=j=>{try{const B=new Date(j),_=(new Date-B)/(1e3*60*60);return _<1?"Just now":_<24?`${Math.floor(_)}h ago`:_<168?`${Math.floor(_/24)}d ago`:B.toLocaleDateString()}catch{return"Recently"}},v=As();return e?d.jsxs(d.Fragment,{children:[d.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"}),d.jsx(J.div,{initial:{x:-320,opacity:0},animate:{x:0,opacity:1},exit:{x:-320,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed left-0 top-0 h-full w-80 glass border-r border-gray-200 dark:border-gray-700 z-50 lg:relative lg:translate-x-0",children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ir,{className:"w-5 h-5 text-primary-500"}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Chat History"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>{r(),t()},className:"p-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white transition-colors",title:"New Chat",children:d.jsx(ss,{className:"w-4 h-4"})}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:()=>f(!p),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400 transition-colors",title:"More options",children:d.jsx(as,{className:"w-4 h-4"})}),d.jsx(De,{children:p&&d.jsx(J.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-full mt-2 w-48 glass rounded-lg border border-gray-200 dark:border-gray-700 shadow-lg z-10",children:d.jsxs("div",{className:"p-2",children:[d.jsxs("button",{onClick:N,className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md",children:[d.jsx(os,{className:"w-4 h-4"}),d.jsx("span",{children:"Export History"})]}),d.jsxs("label",{className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md cursor-pointer",children:[d.jsx(ls,{className:"w-4 h-4"}),d.jsx("span",{children:"Import History"}),d.jsx("input",{type:"file",accept:".json",onChange:I,className:"hidden"})]}),d.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),d.jsxs("button",{onClick:C,className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md",children:[d.jsx(Tn,{className:"w-4 h-4"}),d.jsx("span",{children:"Clear All History"})]})]})})})]}),d.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400 transition-colors lg:hidden",title:"Close",children:d.jsx(sn,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search conversations...",value:o,onChange:j=>l(j.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"})]}),d.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400 flex items-center justify-between",children:[d.jsxs("span",{children:[u.length," conversation",u.length!==1?"s":""]}),d.jsxs("span",{children:[v," total messages"]})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:h?d.jsx("div",{className:"flex items-center justify-center h-32",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):u.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-6",children:[d.jsx(cs,{className:"w-12 h-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:o?"No matching conversations":"No chat history"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:o?"Try adjusting your search terms":"Start a conversation to see your chat history here"}),!o&&d.jsx("button",{onClick:()=>{r(),t()},className:"btn-primary text-sm",children:"Start New Chat"})]}):d.jsx("div",{className:"p-2 space-y-1",children:d.jsx(De,{children:u.map((j,B)=>{var R;return d.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:B*.05},onClick:()=>w(j),className:`group relative p-3 rounded-lg cursor-pointer transition-all duration-200 ${i===j.id?"bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800":"hover:bg-gray-50 dark:hover:bg-gray-800/50 border border-transparent"}`,children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm truncate mb-1",children:j.title}),d.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 space-x-2",children:[d.jsx(ut,{className:"w-3 h-3"}),d.jsx("span",{children:O(j.lastActivity)}),j.messages.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"•"}),d.jsxs("span",{children:[j.messages.length," messages"]})]})]}),j.messages.length>0&&d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 truncate",children:(R=j.messages[j.messages.length-1])==null?void 0:R.text})]}),d.jsx("button",{onClick:_=>k(j.id,_),className:"p-1 rounded-md text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 opacity-0 group-hover:opacity-100",title:"Delete conversation",children:d.jsx(Tn,{className:"w-3 h-3"})})]}),i===j.id&&d.jsx(J.div,{layoutId:"activeSession",className:"absolute left-0 top-0 bottom-0 w-1 bg-primary-500 rounded-r"})]},j.id)})})})})]})})]}):null};let Pc={data:""},Oc=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Pc},Dc=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Lc=/\/\*[^]*?\*\/|  +/g,Cr=/\n+/g,Ce=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?Ce(a,s):s+"{"+Ce(a,s[1]=="k"?"":t)+"}":typeof a=="object"?r+=Ce(a,t?t.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ce.p?Ce.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ke={},bi=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+bi(e[n]);return t}return e},Mc=(e,t,n,r,i)=>{let s=bi(e),a=ke[s]||(ke[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!ke[a]){let l=s!==e?e:(u=>{let c,p,f=[{}];for(;c=Dc.exec(u.replace(Lc,""));)c[4]?f.shift():c[3]?(p=c[3].replace(Cr," ").trim(),f.unshift(f[0][p]=f[0][p]||{})):f[0][c[1]]=c[2].replace(Cr," ").trim();return f[0]})(e);ke[a]=Ce(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&ke.g?ke.g:null;return n&&(ke.g=ke[a]),((l,u,c,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(ke[a],t,r,o),a},Rc=(e,t,n)=>e.reduce((r,i,s)=>{let a=t[s];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Ce(o,""):o===!1?"":o}return r+i+(a??"")},"");function It(e){let t=this||{},n=e.call?e(t.p):e;return Mc(n.unshift?n.raw?Rc(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Oc(t.target),t.g,t.o,t.k)}let ki,nn,rn;It.bind({g:1});let we=It.bind({k:1});function zc(e,t,n,r){Ce.p=t,ki=e,nn=n,rn=r}function Ie(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:nn&&nn()},o),n.o=/ *go\d+/.test(l),o.className=It.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),rn&&u[0]&&rn(o),ki(u,o)}return i}}var _c=e=>typeof e=="function",yt=(e,t)=>_c(e)?e(t):e,Fc=(()=>{let e=0;return()=>(++e).toString()})(),wi=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Hc=20,Sn="default",vi=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return vi(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},pt=[],Si={toasts:[],pausedAt:void 0,settings:{toastLimit:Hc}},fe={},Ni=(e,t=Sn)=>{fe[t]=vi(fe[t]||Si,e),pt.forEach(([n,r])=>{n===t&&r(fe[t])})},Ci=e=>Object.keys(fe).forEach(t=>Ni(e,t)),Bc=e=>Object.keys(fe).find(t=>fe[t].toasts.some(n=>n.id===e)),jt=(e=Sn)=>t=>{Ni(t,e)},$c={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Uc=(e={},t=Sn)=>{let[n,r]=T.useState(fe[t]||Si),i=T.useRef(fe[t]);T.useEffect(()=>(i.current!==fe[t]&&r(fe[t]),pt.push([t,r]),()=>{let a=pt.findIndex(([o])=>o===t);a>-1&&pt.splice(a,1)}),[t]);let s=n.toasts.map(a=>{var o,l,u;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||$c[a.type],style:{...e.style,...(u=e[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:s}},Vc=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Fc()}),rt=e=>(t,n)=>{let r=Vc(t,e,n);return jt(r.toasterId||Bc(r.id))({type:2,toast:r}),r.id},G=(e,t)=>rt("blank")(e,t);G.error=rt("error");G.success=rt("success");G.loading=rt("loading");G.custom=rt("custom");G.dismiss=(e,t)=>{let n={type:3,toastId:e};t?jt(t)(n):Ci(n)};G.dismissAll=e=>G.dismiss(void 0,e);G.remove=(e,t)=>{let n={type:4,toastId:e};t?jt(t)(n):Ci(n)};G.removeAll=e=>G.remove(void 0,e);G.promise=(e,t,n)=>{let r=G.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let s=t.success?yt(t.success,i):void 0;return s?G.success(s,{id:r,...n,...n==null?void 0:n.success}):G.dismiss(r),i}).catch(i=>{let s=t.error?yt(t.error,i):void 0;s?G.error(s,{id:r,...n,...n==null?void 0:n.error}):G.dismiss(r)}),e};var qc=1e3,Wc=(e,t="default")=>{let{toasts:n,pausedAt:r}=Uc(e,t),i=T.useRef(new Map).current,s=T.useCallback((p,f=qc)=>{if(i.has(p))return;let h=setTimeout(()=>{i.delete(p),a({type:4,toastId:p})},f);i.set(p,h)},[]);T.useEffect(()=>{if(r)return;let p=Date.now(),f=n.map(h=>{if(h.duration===1/0)return;let x=(h.duration||0)+h.pauseDuration-(p-h.createdAt);if(x<0){h.visible&&G.dismiss(h.id);return}return setTimeout(()=>G.dismiss(h.id,t),x)});return()=>{f.forEach(h=>h&&clearTimeout(h))}},[n,r,t]);let a=T.useCallback(jt(t),[t]),o=T.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=T.useCallback((p,f)=>{a({type:1,toast:{id:p,height:f}})},[a]),u=T.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),c=T.useCallback((p,f)=>{let{reverseOrder:h=!1,gutter:x=8,defaultPosition:y}=f||{},w=n.filter(N=>(N.position||y)===(p.position||y)&&N.height),k=w.findIndex(N=>N.id===p.id),C=w.filter((N,I)=>I<k&&N.visible).length;return w.filter(N=>N.visible).slice(...h?[C+1]:[0,C]).reduce((N,I)=>N+(I.height||0)+x,0)},[n]);return T.useEffect(()=>{n.forEach(p=>{if(p.dismissed)s(p.id,p.removeDelay);else{let f=i.get(p.id);f&&(clearTimeout(f),i.delete(p.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:c}}},Yc=we`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Jc=we`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gc=we`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Kc=Ie("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Yc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Jc} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gc} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Xc=we`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Qc=Ie("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Xc} 1s linear infinite;
`,Zc=we`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ed=we`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,td=Ie("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ed} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nd=Ie("div")`
  position: absolute;
`,rd=Ie("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,id=we`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sd=Ie("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${id} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ad=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?T.createElement(sd,null,t):t:n==="blank"?null:T.createElement(rd,null,T.createElement(Qc,{...r}),n!=="loading"&&T.createElement(nd,null,n==="error"?T.createElement(Kc,{...r}):T.createElement(td,{...r})))},od=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ld=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ud="0%{opacity:0;} 100%{opacity:1;}",cd="0%{opacity:1;} 100%{opacity:0;}",dd=Ie("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pd=Ie("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hd=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=wi()?[ud,cd]:[od(n),ld(n)];return{animation:t?`${we(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${we(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fd=T.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?hd(e.position||t||"top-center",e.visible):{opacity:0},s=T.createElement(ad,{toast:e}),a=T.createElement(pd,{...e.ariaProps},yt(e.message,e));return T.createElement(dd,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:a}):T.createElement(T.Fragment,null,s,a))});zc(T.createElement);var md=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=T.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(e,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return T.createElement("div",{ref:s,className:t,style:n},i)},gd=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wi()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},yd=It`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,lt=16,xd=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:u}=Wc(n,s);return T.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:lt,left:lt,right:lt,bottom:lt,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let p=c.position||t,f=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),h=gd(p,f);return T.createElement(md,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?yd:"",style:h},c.type==="custom"?yt(c.message,c):i?i(c):T.createElement(fd,{toast:c,position:p}))}))},bd=G;function kd(){const{currentSessionId:e,currentSession:t,createNewSession:n,loadSession:r}=on(),{sidebarOpen:i,historyPanelOpen:s,setDarkMode:a,toggleHistoryPanel:o,setHistoryPanelOpen:l}=Rs(),[u,c]=T.useState(!1);T.useEffect(()=>{const x=()=>{c(window.innerWidth<1024)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),T.useEffect(()=>{const x=localStorage.getItem("volunteer-hub-ui");if(x)try{const{state:y}=JSON.parse(x);a(y.isDarkMode)}catch(y){console.error("Error loading theme preference:",y)}else{const y=window.matchMedia("(prefers-color-scheme: dark)").matches;a(y)}e||n(),setTimeout(()=>{bd.success("Welcome to DORA! 🤖 Your chats are automatically saved locally with smart context switching.",{duration:6e3,icon:"�"})},1e3)},[]);const p=x=>{r(x.id)},f=()=>{n()},h=()=>{o()};return d.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[d.jsx(_s,{}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsx(De,{children:s&&d.jsx(Tc,{isOpen:s,onClose:()=>l(!1),onSelectSession:p,onNewChat:f,currentSessionId:e})}),d.jsx(Fs,{}),d.jsxs(J.main,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:`flex-1 flex flex-col relative transition-all duration-300 ${i?"lg:ml-0":""}`,children:[d.jsx("div",{className:"absolute top-4 left-4 z-10",children:d.jsx("button",{onClick:h,className:`p-2 rounded-lg glass border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200 ${s?"bg-primary-50 dark:bg-primary-900/20 border-primary-200 dark:border-primary-700":""}`,title:s?"Hide chat history":"Show chat history (localStorage)",children:s?d.jsx(sn,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}):d.jsx(ds,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})}),t&&d.jsx(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute top-4 right-4 z-10",children:d.jsx("div",{className:"glass px-3 py-1 rounded-lg border border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 max-w-48 truncate",children:["💾 ",t.title]})})}),d.jsx("div",{className:"flex-1 flex flex-col pt-16 min-h-0",children:d.jsx(Ac,{})})]})]}),d.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[d.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary-500/10 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-secondary-500/10 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute top-3/4 left-1/2 w-64 h-64 bg-accent-500/10 rounded-full blur-2xl"}),[...Array(15)].map((x,y)=>d.jsx(J.div,{className:"absolute w-1 h-1 bg-primary-500/20 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-20,0],opacity:[.2,.8,.2]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},y))]}),d.jsx(De,{children:s&&u&&d.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})})]})}const wd=()=>{const{currentSessionId:e,createNewSession:t}=on.getState();e||t()};wd();Ut.createRoot(document.getElementById("root")).render(d.jsxs(Ri.StrictMode,{children:[d.jsx(kd,{}),d.jsx(xd,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f3f4f6",borderRadius:"12px",border:"1px solid #374151"},success:{duration:4e3,style:{background:"linear-gradient(135deg, #8b5cf6, #ec4899)",color:"#ffffff"},iconTheme:{primary:"#ffffff",secondary:"#8b5cf6"}},error:{duration:5e3,style:{background:"#ef4444",color:"#ffffff"}}}})]}));
